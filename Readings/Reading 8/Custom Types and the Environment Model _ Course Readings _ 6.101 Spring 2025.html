<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<!-- This page was generated by CAT-SOOP 19.0.6+hg.14.f36ce1d1.  miau. -->
<meta charset="utf-8">
<title>Custom Types and the Environment Model | Course Readings | 6.101 Spring 2025</title>
<link href="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/logo.gif" rel="icon" type="image/gif">
<!-- include catsoop base css -->
<link href="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/base.css" rel="stylesheet" type="text/css">
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    function toggleAttribute(elt, attr){
        elt.setAttribute(attr, elt.getAttribute(attr) === "true" ? "false" : "true");
    }

    catsoop.topMenuFocus = function(event) {
        var elt = event.target;
        var target = event.relatedTarget;
        if (elt.classList.contains('menu-submenu')){
            var topmenu = elt.parentNode.parentNode;
            if (target && !target.classList.contains("menu-submenu") && target !== topmenu.children[1]) {
                clearMenu(topmenu);
            }
        }else if (!target.classList.contains('cs_top_menu_item')){
            clearMenu(elt.parentNode);
        }
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- dark mode -->
<script src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/darkreader.min.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.dark_mode_settings = null;
    if (catsoop.dark_mode_settings === null){
        catsoop.dark_mode_settings = JSON.parse(localStorage.getItem('catsoop_dark_mode_settings'));
        if (catsoop.dark_mode_settings === null){
            catsoop.dark_mode_settings = {'mode': 'disabled', 'brightness': 100, 'contrast': 90, 'sepia': 10, 'grayscale': 0};
        }
    }
    localStorage.setItem('catsoop_dark_mode_settings', JSON.stringify(catsoop.dark_mode_settings));
    catsoop.dark_mode = catsoop.dark_mode_settings.mode;
    delete catsoop.dark_mode_settings.mode;
    if (catsoop.dark_mode === 'enabled' || catsoop.dark_mode === 'auto'){
        DarkReader[catsoop.dark_mode == 'enabled' ? 'enable' : 'auto'](catsoop.dark_mode_settings);
    }
    
    document.addEventListener("DOMContentLoaded", function(event) {
        if (DarkReader.isEnabled()) {
            var invertfilter = 'invert(100%) hue-rotate(180deg)' +
                               ' brightness(' + catsoop.dark_mode_settings.brightness + '%)' +
                               ' contrast(' + catsoop.dark_mode_settings.contrast + '%)' +
                               ' grayscale(' + catsoop.dark_mode_settings.grayscale + '%)' +
                               ' sepia(' + catsoop.dark_mode_settings.sepia + '%)'
            var inverter = document.createElement('style');
            inverter.innerText = 'img.catsoop-darkmode-invert, video.catsoop-darkmode-invert {filter: ' + invertfilter + ';}\n\n'
            document.head.appendChild(inverter);
        }
    });
    // @license-end
    </script>
<!-- load in mathjax and CAT-SOOP-specific math rendering  -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    MathJax = {
      startup: {
        typeset: false,
      }
    }

    catsoop.render_math = function (elt) {
        if(elt.classList.contains('cs_displaymath')){
            var b = "\\[";
            var e = "\\]";
        }else{
            var b = "\\(";
            var e = "\\)";
        }
        elt.innerText = b + elt.innerText + e;
        MathJax.typeset([elt]);
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        if (elt === null) {
            return;
        }
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<script id="MathJax-script" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/tex-chtml-full-speech.js"></script><style type="text/css">.CtxtMenu_InfoClose {  top:.2em; right:.2em;}
.CtxtMenu_InfoContent {  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}
.CtxtMenu_Info.CtxtMenu_MousePost {outline:none;}
.CtxtMenu_Info {  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}
</style><style type="text/css">.CtxtMenu_MenuClose {  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}
.CtxtMenu_MenuClose span {  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}
.CtxtMenu_MenuClose:hover {  color:white!important;  border:2px solid #CCC!important}
.CtxtMenu_MenuClose:hover span {  background-color:#CCC!important}
.CtxtMenu_MenuClose:hover:focus {  outline:none}
</style><style type="text/css">.CtxtMenu_Menu {  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}
.CtxtMenu_MenuItem {  padding: 1px 2em;  background:transparent;}
.CtxtMenu_MenuArrow {  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}
.CtxtMenu_MenuActive .CtxtMenu_MenuArrow {color:white}
.CtxtMenu_MenuArrow.CtxtMenu_RTL {left:.5em; right:auto}
.CtxtMenu_MenuCheck {  position:absolute; left:.7em;  font-family: null}
.CtxtMenu_MenuCheck.CtxtMenu_RTL { right:.7em; left:auto }
.CtxtMenu_MenuRadioCheck {  position:absolute; left: .7em;}
.CtxtMenu_MenuRadioCheck.CtxtMenu_RTL {  right: .7em; left:auto}
.CtxtMenu_MenuInputBox {  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}
.CtxtMenu_MenuInputBox.CtxtMenu_RTL {  left: .1em;}
.CtxtMenu_MenuComboBox {  left:.1em; padding-bottom:.5em;}
.CtxtMenu_MenuSlider {  left: .1em;}
.CtxtMenu_SliderValue {  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}
.CtxtMenu_SliderBar {  outline: none; background: #d3d3d3}
.CtxtMenu_MenuLabel {  padding: 1px 2em 3px 1.33em;  font-style:italic}
.CtxtMenu_MenuRule {  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}
.CtxtMenu_MenuDisabled {  color:GrayText}
.CtxtMenu_MenuActive {  background-color: #606872;  color: white;}
.CtxtMenu_MenuDisabled:focus {  background-color: #E8E8E8}
.CtxtMenu_MenuLabel:focus {  background-color: #E8E8E8}
.CtxtMenu_ContextMenu:focus {  outline:none}
.CtxtMenu_ContextMenu .CtxtMenu_MenuItem:focus {  outline:none}
.CtxtMenu_SelectionMenu {  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }
.CtxtMenu_SelectionItem {  padding-right: 1em;}
.CtxtMenu_Selection {  right: 40%; width:50%; }
.CtxtMenu_SelectionBox {  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}
.CtxtMenu_SelectionDivider {  clear: both; border-top: 2px solid #000000;}
.CtxtMenu_Menu .CtxtMenu_MenuClose {  top:-10px; left:-10px}
</style>
<!-- load in diagram stuff -->
<script src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/cs_diagrams.js" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/highlight.min.js" type="text/javascript"></script>
<script src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/highlightjs-line-numbers.js" type="text/javascript"></script><style type="text/css">.hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}</style>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.syntax_highlighting = function (elt) {
        if (elt === null) {
            return;
        }
        elt.querySelectorAll('pre > code:not(.highlighted)').forEach((block) => {
            hljs.highlightBlock(block);
            var wrap = document.createElement("section");
            wrap.setAttribute("aria-label", "Code block");
            block.parentNode.replaceWith(wrap);
            wrap.append(block.parentNode);
            block.classList.add('highlighted');
        });
        elt.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
            b.classList.remove('highlight-lines');
        });
    }
    window.addEventListener('DOMContentLoaded', function(){
        catsoop.syntax_highlighting(document);
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #0350ba;
        --cs-light-bg-color: #629ced;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
img {
  max-width:100% !important;
}
.visually-hidden {
	position: absolute !important;
	width: 1px !important;
	height: 1px !important;
	padding: 0 !important;
	margin: -1px !important;
	overflow: hidden !important;
	clip: rect(0,0,0,0) !important;
	white-space: nowrap !important;
	border: 0 !important;
}
kbd {
  background-color: #eee;
  border-radius: 3px;
  border: 1px solid #b4b4b4;
  box-shadow:
    0 1px 1px rgba(0, 0, 0, 0.2),
    0 2px 0 0 rgba(255, 255, 255, 0.7) inset;
  color: #333;
  display: inline-block;
  font-size: 0.85em;
  font-weight: 700;
  line-height: 1;
  padding: 2px 4px;
  white-space: nowrap;
}
</style>
<style>
[id^=cs_qdiv].question-lab101 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101 [id$=nsubmits_left] {
  display: none;
}

[id^=cs_qdiv].question-lab101_vprof [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_vprof [id$=nsubmits_left] {
  display: none;
}

</style>
<script>
MathJax.options.enableMenu = false;
</script>
<style>
h2.cs_section_title {
   margin-top: 3em;
}
h3.cs_section_title {
   margin-top: 3em;
}
h4.cs_section_title {
   margin-top: 2em;
}
code.hljs {
    -webkit-user-select: none;
    -webkit-touch-callout: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
img.envdia {
  border-radius: 5px;
  border: 2px #ccc solid;
}
img.pixels {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}
button[id$=clearanswer] {
  display: none;
}
.flex { display: flex; flex-wrap: wrap; }
.flex > pre { flex: 1; }
.flex > img { flex: 0 1; }
</style>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function (){
    document.querySelectorAll("img.envdia").forEach(function (b){
        b.classList.add("catsoop-darkmode-invert")
    });
});
</script>
<script src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/multistep.js" type="text/javascript"></script>
<link href="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/multistep.css" rel="stylesheet">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.addEventListener("DOMContentLoaded", function(){
    sessionStorage.setItem("last-non-settings", catsoop.this_path);
});
// @license-end
</script>
<script src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/cs_ajax.js" type="text/javascript"></script>
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">
<style id="MJX-CHTML-styles">
mjx-container[jax="CHTML"] {
  line-height: 0;
}

mjx-container [space="1"] {
  margin-left: .111em;
}

mjx-container [space="2"] {
  margin-left: .167em;
}

mjx-container [space="3"] {
  margin-left: .222em;
}

mjx-container [space="4"] {
  margin-left: .278em;
}

mjx-container [space="5"] {
  margin-left: .333em;
}

mjx-container [rspace="1"] {
  margin-right: .111em;
}

mjx-container [rspace="2"] {
  margin-right: .167em;
}

mjx-container [rspace="3"] {
  margin-right: .222em;
}

mjx-container [rspace="4"] {
  margin-right: .278em;
}

mjx-container [rspace="5"] {
  margin-right: .333em;
}

mjx-container [size="s"] {
  font-size: 70.7%;
}

mjx-container [size="ss"] {
  font-size: 50%;
}

mjx-container [size="Tn"] {
  font-size: 60%;
}

mjx-container [size="sm"] {
  font-size: 85%;
}

mjx-container [size="lg"] {
  font-size: 120%;
}

mjx-container [size="Lg"] {
  font-size: 144%;
}

mjx-container [size="LG"] {
  font-size: 173%;
}

mjx-container [size="hg"] {
  font-size: 207%;
}

mjx-container [size="HG"] {
  font-size: 249%;
}

mjx-container [width="full"] {
  width: 100%;
}

mjx-box {
  display: inline-block;
}

mjx-block {
  display: block;
}

mjx-itable {
  display: inline-table;
}

mjx-row {
  display: table-row;
}

mjx-row > * {
  display: table-cell;
}

mjx-mtext {
  display: inline-block;
}

mjx-mstyle {
  display: inline-block;
}

mjx-merror {
  display: inline-block;
  color: red;
  background-color: yellow;
}

mjx-mphantom {
  visibility: hidden;
}

_::-webkit-full-page-media, _:future, :root mjx-container {
  will-change: opacity;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-math {
  display: inline-block;
  text-align: left;
  line-height: 0;
  text-indent: 0;
  font-style: normal;
  font-weight: normal;
  font-size: 100%;
  font-size-adjust: none;
  letter-spacing: normal;
  border-collapse: collapse;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  direction: ltr;
  padding: 1px 0;
}

mjx-container[jax="CHTML"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="CHTML"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="CHTML"][display="true"] mjx-math {
  padding: 0;
}

mjx-container[jax="CHTML"][justify="left"] {
  text-align: left;
}

mjx-container[jax="CHTML"][justify="right"] {
  text-align: right;
}

mjx-TeXAtom {
  display: inline-block;
  text-align: left;
}

mjx-mover {
  display: inline-block;
  text-align: left;
}

mjx-mover:not([limits="false"]) {
  padding-top: .1em;
}

mjx-mover:not([limits="false"]) > * {
  display: block;
  text-align: left;
}

mjx-mo {
  display: inline-block;
  text-align: left;
}

mjx-stretchy-h {
  display: inline-table;
  width: 100%;
}

mjx-stretchy-h > * {
  display: table-cell;
  width: 0;
}

mjx-stretchy-h > * > mjx-c {
  display: inline-block;
  transform: scalex(1.0000001);
}

mjx-stretchy-h > * > mjx-c::before {
  display: inline-block;
  width: initial;
}

mjx-stretchy-h > mjx-ext {
  /* IE */ overflow: hidden;
  /* others */ overflow: clip visible;
  width: 100%;
}

mjx-stretchy-h > mjx-ext > mjx-c::before {
  transform: scalex(500);
}

mjx-stretchy-h > mjx-ext > mjx-c {
  width: 0;
}

mjx-stretchy-h > mjx-beg > mjx-c {
  margin-right: -.1em;
}

mjx-stretchy-h > mjx-end > mjx-c {
  margin-left: -.1em;
}

mjx-stretchy-v {
  display: inline-block;
}

mjx-stretchy-v > * {
  display: block;
}

mjx-stretchy-v > mjx-beg {
  height: 0;
}

mjx-stretchy-v > mjx-end > mjx-c {
  display: block;
}

mjx-stretchy-v > * > mjx-c {
  transform: scaley(1.0000001);
  transform-origin: left center;
  overflow: hidden;
}

mjx-stretchy-v > mjx-ext {
  display: block;
  height: 100%;
  box-sizing: border-box;
  border: 0px solid transparent;
  /* IE */ overflow: hidden;
  /* others */ overflow: visible clip;
}

mjx-stretchy-v > mjx-ext > mjx-c::before {
  width: initial;
  box-sizing: border-box;
}

mjx-stretchy-v > mjx-ext > mjx-c {
  transform: scaleY(500) translateY(.075em);
  overflow: visible;
}

mjx-mark {
  display: inline-block;
  height: 0px;
}

mjx-c {
  display: inline-block;
}

mjx-utext {
  display: inline-block;
  padding: .75em 0 .2em 0;
}

mjx-mi {
  display: inline-block;
  text-align: left;
}

mjx-mn {
  display: inline-block;
  text-align: left;
}

mjx-c::before {
  display: block;
  width: 0;
}

.MJX-TEX {
  font-family: MJXZERO, MJXTEX;
}

.TEX-B {
  font-family: MJXZERO, MJXTEX-B;
}

.TEX-I {
  font-family: MJXZERO, MJXTEX-I;
}

.TEX-MI {
  font-family: MJXZERO, MJXTEX-MI;
}

.TEX-BI {
  font-family: MJXZERO, MJXTEX-BI;
}

.TEX-S1 {
  font-family: MJXZERO, MJXTEX-S1;
}

.TEX-S2 {
  font-family: MJXZERO, MJXTEX-S2;
}

.TEX-S3 {
  font-family: MJXZERO, MJXTEX-S3;
}

.TEX-S4 {
  font-family: MJXZERO, MJXTEX-S4;
}

.TEX-A {
  font-family: MJXZERO, MJXTEX-A;
}

.TEX-C {
  font-family: MJXZERO, MJXTEX-C;
}

.TEX-CB {
  font-family: MJXZERO, MJXTEX-CB;
}

.TEX-FR {
  font-family: MJXZERO, MJXTEX-FR;
}

.TEX-FRB {
  font-family: MJXZERO, MJXTEX-FRB;
}

.TEX-SS {
  font-family: MJXZERO, MJXTEX-SS;
}

.TEX-SSB {
  font-family: MJXZERO, MJXTEX-SSB;
}

.TEX-SSI {
  font-family: MJXZERO, MJXTEX-SSI;
}

.TEX-SC {
  font-family: MJXZERO, MJXTEX-SC;
}

.TEX-T {
  font-family: MJXZERO, MJXTEX-T;
}

.TEX-V {
  font-family: MJXZERO, MJXTEX-V;
}

.TEX-VB {
  font-family: MJXZERO, MJXTEX-VB;
}

mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c {
  font-family: MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A ! important;
}

@font-face /* 0 */ {
  font-family: MJXZERO;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Zero.woff") format("woff");
}

@font-face /* 1 */ {
  font-family: MJXTEX;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff") format("woff");
}

@font-face /* 2 */ {
  font-family: MJXTEX-B;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Bold.woff") format("woff");
}

@font-face /* 3 */ {
  font-family: MJXTEX-I;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff") format("woff");
}

@font-face /* 4 */ {
  font-family: MJXTEX-MI;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Italic.woff") format("woff");
}

@font-face /* 5 */ {
  font-family: MJXTEX-BI;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Math-BoldItalic.woff") format("woff");
}

@font-face /* 6 */ {
  font-family: MJXTEX-S1;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff") format("woff");
}

@font-face /* 7 */ {
  font-family: MJXTEX-S2;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Size2-Regular.woff") format("woff");
}

@font-face /* 8 */ {
  font-family: MJXTEX-S3;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Size3-Regular.woff") format("woff");
}

@font-face /* 9 */ {
  font-family: MJXTEX-S4;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Size4-Regular.woff") format("woff");
}

@font-face /* 10 */ {
  font-family: MJXTEX-A;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_AMS-Regular.woff") format("woff");
}

@font-face /* 11 */ {
  font-family: MJXTEX-C;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Regular.woff") format("woff");
}

@font-face /* 12 */ {
  font-family: MJXTEX-CB;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Bold.woff") format("woff");
}

@font-face /* 13 */ {
  font-family: MJXTEX-FR;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Fraktur-Regular.woff") format("woff");
}

@font-face /* 14 */ {
  font-family: MJXTEX-FRB;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Fraktur-Bold.woff") format("woff");
}

@font-face /* 15 */ {
  font-family: MJXTEX-SS;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_SansSerif-Regular.woff") format("woff");
}

@font-face /* 16 */ {
  font-family: MJXTEX-SSB;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_SansSerif-Bold.woff") format("woff");
}

@font-face /* 17 */ {
  font-family: MJXTEX-SSI;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_SansSerif-Italic.woff") format("woff");
}

@font-face /* 18 */ {
  font-family: MJXTEX-SC;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Script-Regular.woff") format("woff");
}

@font-face /* 19 */ {
  font-family: MJXTEX-T;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Typewriter-Regular.woff") format("woff");
}

@font-face /* 20 */ {
  font-family: MJXTEX-V;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Vector-Regular.woff") format("woff");
}

@font-face /* 21 */ {
  font-family: MJXTEX-VB;
  src: url("https://py.mit.edu/_static/_base/js/mathjax/output/chtml/fonts/woff-v2/MathJax_Vector-Bold.woff") format("woff");
}

mjx-c.mjx-c20D7.TEX-V::before {
  padding: 0.714em 0.5em 0 0;
  content: "\2192";
}

mjx-c.mjx-c1D463.TEX-I::before {
  padding: 0.443em 0.485em 0.011em 0;
  content: "v";
}

mjx-c.mjx-c3D::before {
  padding: 0.583em 0.778em 0.082em 0;
  content: "=";
}

mjx-c.mjx-c5B::before {
  padding: 0.75em 0.278em 0.25em 0;
  content: "[";
}

mjx-c.mjx-c32::before {
  padding: 0.666em 0.5em 0 0;
  content: "2";
}

mjx-c.mjx-c2E::before {
  padding: 0.12em 0.278em 0 0;
  content: ".";
}

mjx-c.mjx-c33::before {
  padding: 0.665em 0.5em 0.022em 0;
  content: "3";
}

mjx-c.mjx-c2C::before {
  padding: 0.121em 0.278em 0.194em 0;
  content: ",";
}

mjx-c.mjx-c38::before {
  padding: 0.666em 0.5em 0.022em 0;
  content: "8";
}

mjx-c.mjx-c5D::before {
  padding: 0.75em 0.278em 0.25em 0;
  content: "]";
}
</style></head>
<body style="margin: 0px;">
<header id="cs_header">
<div aria-role="menubar" class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/spring25"><img src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/logo.gif">&nbsp;6.101</a></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_c1a43e3f699a1ed71997b0321c2e9ffd">Information<span aria-hidden="true" class="downarrow">▼</span></label>
<input class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_c1a43e3f699a1ed71997b0321c2e9ffd" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox">
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/basics" onblur="catsoop.topMenuFocus(event);" role="menuitem">Basics and Schedule</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/grading" onblur="catsoop.topMenuFocus(event);" role="menuitem">Grading Policies</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/academic_integrity" onblur="catsoop.topMenuFocus(event);" role="menuitem">Academic Integrity</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/help" onblur="catsoop.topMenuFocus(event);" role="menuitem">Getting Help</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/infrastructure" onblur="catsoop.topMenuFocus(event);" role="menuitem">Infrastructure</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/staff" onblur="catsoop.topMenuFocus(event);" role="menuitem">Staff List</a></div></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_ee51a2d5002bd02613936bd9b2f3dbee">Materials<span aria-hidden="true" class="downarrow">▼</span></label>
<input class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_ee51a2d5002bd02613936bd9b2f3dbee" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox">
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/calendar" onblur="catsoop.topMenuFocus(event);" role="menuitem">Calendar</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/readings" onblur="catsoop.topMenuFocus(event);" role="menuitem">Readings</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/labs" onblur="catsoop.topMenuFocus(event);" role="menuitem">Labs</a></div></div>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/progress" onblur="catsoop.topMenuFocus(event);" role="menuitem">Progress</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/queue" onblur="catsoop.topMenuFocus(event);" role="menuitem">Queue</a>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_19115a3a59d617f1fbc019dae10f7c05">tjampa<span aria-hidden="true" class="downarrow">▼</span></label>
<input class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_19115a3a59d617f1fbc019dae10f7c05" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox">
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/ssh_keys" onblur="catsoop.topMenuFocus(event);" role="menuitem">Manage SSH Keys</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/_util/user_settings" onblur="catsoop.topMenuFocus(event);" role="menuitem">Settings</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/readings/classes?loginaction=logout" onblur="catsoop.topMenuFocus(event);" role="menuitem">Log Out</a></div></div><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()" aria-label="site-menu">☰</a>
</div>
</header>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_top_navigation" id="cs_breadcrumbs"><li><a href="https://py.mit.edu/spring25">Home</a></li><li><a href="https://py.mit.edu/spring25/readings">Course Readings</a></li><li><a href="https://py.mit.edu/spring25/readings/classes">Custom Types and the Environment Model</a></li></nav>
<div class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body" role="main">
<center><h1 class="cs_content_header">Custom Types and the Environment Model</h1></center>
<div class="callout callout-note"><div class="callout-title">Note</div>
<p>All questions on this page are due at 10:00pm on Sunday, 13 April.</p>
</div>
<h2 aria-hidden="true">Table of Contents</h2><ul aria-label="Table of Contents" role="navigation"><li><a href="#_introduction">1) Introduction</a></li><li><a href="#_the_power_of_abstraction_revisited">2) The Power of Abstraction Revisited</a></li><li><a href="#_custom_types_and_the_environment_model">3) Custom Types and the Environment Model</a></li><ul><li><a href="#_example_2_d_vectors">3.1) Example: 2-d Vectors</a></li><ul><li><a href="#_magnitude_function">3.1.1) Magnitude Function</a></li><li><a href="#_rearranging_the_code">3.1.2) Rearranging the Code</a></li></ul><li><a href="#_calling_methods">3.2) Calling Methods</a></li><ul><li><a href="#_a_common_error">3.2.1) A Common Error</a></li></ul><li><a href="#_the_nature_of_self">3.3) The Nature of Self</a></li><li><a href="#_variable_lookup_vs_attribute_lookup">3.4) Variable Lookup vs Attribute Lookup</a></li><ul><li><a href="#_an_example">3.4.1) An Example</a></li></ul><li><a href="#_init">3.5) <code>__init__</code></a></li><ul><li><a href="#_dunder_methods">3.5.1) Dunder Methods</a></li></ul></ul><li><a href="#_example_linked_lists">4) Example: Linked Lists</a></li><ul><li><a href="#_getting_an_element">4.1) Getting an Element</a></li><ul><li><a href="#_iteratively">4.1.1) Iteratively</a></li><li><a href="#_recursively">4.1.2) Recursively</a></li></ul><li><a href="#_setting_an_element">4.2) Setting an Element</a></li><li><a href="#_refactoring">4.3) Refactoring</a></li><li><a href="#_leveraging_dunder_methods">4.4) Leveraging Dunder Methods</a></li><li><a href="#_displaying_a_linked_list">4.5) Displaying a Linked List</a></li><li><a href="#_getting_the_length_of_a_linked_list">4.6) Getting the Length of a Linked List</a></li><li><a href="#_looping_over_a_linked_list">4.7) Looping Over a Linked List</a></li><li><a href="#_other_operations">4.8) Other Operations</a></li></ul><li><a href="#_summary">5) Summary</a></li></ul>
<p><a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_introduction"></a></p><h2 class="cs_section_title">1) Introduction<a class="cs_permalink" href="#_introduction">§</a></h2><p></p>
<p>Starting with this reading, we're turning a bit of a corner in 6.101.  We're
not going to leave recursion behind, per se, but our focus will shift a little
bit as we move forward.  For the next couple of weeks, we're going to be
talking about <em>classes</em>, which provide a mechanism for making our own custom
types; and about the mechanisms Python gives us for integrating those custom
types tightly into the Python language.</p>
<p>We'll start by talking about how classes fit into the environment model that
we've been developing over the term, to understand something about how classes
are implemented and about how they work "behind the scenes" so that we can
bring that knowledge to bear and use these features in our own programs.  Then
we'll end our discussion by walking through a concrete example of creating a
custom type from start to finish.</p>
<p><a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_the_power_of_abstraction_revisited"></a></p><h2 class="cs_section_title">2) The Power of Abstraction Revisited<a class="cs_permalink" href="#_the_power_of_abstraction_revisited">§</a></h2><p></p>
<p>In an earlier reading, we introduced the notion of <em>abstraction</em> as a means of
controlling complexity in our programs.  It may go without saying, but thinking
about complicated systems is complicated, and thinking about simpler systems is
often simpler.  So as we move to analyzing or designing bigger and more complex
systems, it is important to have strategies for breaking those complex systems
down into simpler pieces that are easier to understand.  In the <a href="https://py.mit.edu/spring25/readings/functions">reading about
functions</a>, we introduced a framework for thinking about complex systems that
involved thinking about:</p>
<ul>
<li>
<p><strong>Primitives</strong>: What are the smallest and simplest building blocks
of which the system is comprised?</p>
</li>
<li>
<p>Means of <strong>Combination</strong>: How can we combine these building blocks
together to build more complicated compound structures?</p>
</li>
<li>
<p>Means of <strong>Abstraction</strong>: What mechanisms do we have for treating
those complicated compound structures as building blocks themselves?</p>
</li>
</ul>
<p>We start by thinking about <em>primitives</em>: what are the things that
are built into the system that we have to work with?  Then, we can
think about how we can take those pieces and combine them to make more
complicated things.  Then, finally, the real power comes from
<em>abstraction</em>: the idea that we can take one of these
(arbitrarily complex) pieces, draw a box around it, give it a name,
and then treat it as though it were a primitive (combining it with
other pieces, abstracting those away, etc.).</p>
<p>When we first introduced this idea, it was in the context of
functions, and we looked at an example in terms of <em>operations</em> that
we could ask Python to perform.</p>
<p>In that context, we could think about <em>primitive</em> operations, including
arithmetic (<code>+</code>, <code>*</code>, etc.), comparisons (<code>==</code>, <code>!=</code>, etc.), Boolean operators
(<code>and</code>, <code>or</code>, etc.), built-in functions (<code>abs</code>, <code>len</code>, etc.), and more.  Then
we can <em>combine</em> those things together, using things like conditionals (<code>if</code>,
<code>elif</code>, <code>else</code>), looping structures (<code>for</code> and <code>while</code>), and function
composition (<code>f(g(x))</code>).  Then, after we've combined some pieces together to
represent some new operations, we can <em>abstract</em> away the details of those new
operations and treat them as though they had been built-in to Python from the
start by defining functions corresponding to those operations, using the <code>def</code>
or <code>lambda</code> keywords.</p>
<p>Hopefully by now you've already seen (and <em>felt</em>, deep in your soul) the
usefulness of this idea when implementing your own code, for example by making
nice helper functions for yourself to help organize and manage your code in the
labs.</p>
<p>But this kind of analysis, it turns out, is not limited to operations; Python
also gives us mechanisms to create our own <em>data types</em>; and we can apply a
similar kind of analysis here.</p>
<p>We can start by thinking about <em>primitive</em> types, for example things like
<code>int</code>s, <code>float</code>s, and <code>str</code>s.  We also have ways to combine those things
together into more complex structures like <code>list</code>s, <code>set</code>s, or <code>dict</code>s.  We've
seen an example of this idea already in lab 0, where we worked with structures
like the following:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted">{
    <span class="hljs-string">'rate'</span>: <span class="hljs-number">8000</span>,
    <span class="hljs-string">'left'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
    <span class="hljs-string">'right'</span>: [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>],
}
</code></pre></section>
<p>Here we've made a complex structure by combining together a few different types
of objects.  But the real magic happened when we started to think of this not
just as a <em>dictionary containing lists of numbers</em> but as a <em>sound</em>, and when
we defined functions that operated on it under that assumption.  This idea, where
we shifted our focus from the details of the Python objects to the things they
represent, is another example of abstraction.</p>
<p>In this reading, we'll extend
this idea further by exploring the <code>class</code> keyword, which provides us a nice
way to create our own data types and integrate them tightly into Python so that
they behave as though they had been built into Python from the start.
So a custom type like a <em>sound</em> could be represented as a class,
instead of as a dictionary with associated helper functions.</p>
<p><a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_custom_types_and_the_environment_model"></a></p><h2 class="cs_section_title">3) Custom Types and the Environment Model<a class="cs_permalink" href="#_custom_types_and_the_environment_model">§</a></h2><p></p>
<p>The main goal of this section is to introduce classes in terms of how they
behave in our environment model.</p>
<p>Throughout this section, we're going to work on building a class as a way to
see how these things manifest in our environment diagrams (which will help us
explain behaviors we see when using these tools in our own code).</p>
<p>We're going to come at this in stages, and the code will continue to evolve as we go.
At first, our code will be non-idiomatic Python; that is, code that is correct
but not written in the way you'd typically see Python programs written.
By the end of this reading, we will have worked our way to more conventional code.</p>
<p>We take this approach so that we can start, essentially, from first principles
in terms of understanding how classes and instances fit into our environment
model.  By starting with the very basics, we'll be able to lean heavily on the
conventions we've already seen in our environment diagrams over the course of
the semester.  So we'll start small and gradually introduce new
complexity; and in so doing, we hope to present a smooth path toward
understanding how even idiomatic code is behaving in terms of our environment
model.</p>
<p><a class="anchor" name="catsoop_section_3_1"></a><a class="anchor" name="_example_2_d_vectors"></a></p><h3 class="cs_section_title">3.1) Example: 2-d Vectors<a class="cs_permalink" href="#_example_2_d_vectors">§</a></h3><p></p>
<p>Our running example throughout this section will be a custom type that represents 2-d
vectors.  Recall that a two-dimensional vector is a pair of numbers, such as <span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.27em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c33"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2"><mjx-c class="mjx-c38"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mover><mi>v</mi><mo stretchy="false">→</mo></mover></mrow><mo>=</mo><mo stretchy="false">[</mo><mn>2.3</mn><mo>,</mo><mn>8</mn><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span>,
which we can interpret as representing the point <span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c33"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2"><mjx-c class="mjx-c38"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>2.3</mn><mo>,</mo><mn>8</mn><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span> in the 2-d plane.
There are many <em>operations</em> that we might want to do with 2-d vectors <span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.27em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mover><mi>v</mi><mo stretchy="false">→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container></span> and <span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.441em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D464 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mover><mi>w</mi><mo stretchy="false">→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container></span>, for example:</p>
<ul>
<li>computing the magnitude <span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.27em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mrow data-mjx-texclass="ORD"><mover><mi>v</mi><mo stretchy="false">→</mo></mover></mrow><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span></li>
<li>adding <span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.27em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-texatom space="3" texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.441em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D464 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mover><mi>v</mi><mo stretchy="false">→</mo></mover></mrow><mo>+</mo><mrow data-mjx-texclass="ORD"><mover><mi>w</mi><mo stretchy="false">→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container></span>, or subtracting <span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.27em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-texatom space="3" texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.441em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D464 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mover><mi>v</mi><mo stretchy="false">→</mo></mover></mrow><mo>−</mo><mrow data-mjx-texclass="ORD"><mover><mi>w</mi><mo stretchy="false">→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container></span></li>
<li>taking the dot product <span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.27em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c22C5"></mjx-c></mjx-mo><mjx-texatom space="3" texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.441em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D464 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mover><mi>v</mi><mo stretchy="false">→</mo></mover></mrow><mo>⋅</mo><mrow data-mjx-texclass="ORD"><mover><mi>w</mi><mo stretchy="false">→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container></span></li>
<li>scaling the vector by real number, as in <span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D458 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mover><mjx-over style="padding-bottom: 0.105em; padding-left: 0.27em; margin-bottom: -0.516em;"><mjx-mo class="mjx-n" style="width: 0px; margin-left: -0.25em;"><mjx-c class="mjx-c20D7 TEX-V"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi><mrow data-mjx-texclass="ORD"><mover><mi>v</mi><mo stretchy="false">→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container></span></li>
</ul>
<p>If we want to represent and work with vectors in Python programs, we need a way
to represent them in Python.  We could maybe choose to represent them as tuples
and define functions that operate on those tuples, and that would actually work
fine.  But in this section, we'll explore a different organizational method:
we'll define a <em>class</em> that represents the general notion of a 2-d vector,
including both the data we need to represent a vector and the operations that
we can perform on that vector.  Once we've made that class, we will be able to
create <em>instances</em> of that class to represent specific 2-d vectors.</p>
<p>And again, we'll start small and simple (although nonidiomatic) and build up to something more conventional.  So our
starting point is really just about the simplest class we can construct:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vector2D</span>:</span>
    <span class="hljs-keyword">pass</span>
</code></pre></section>
<p>In general, we define a class using the <code>class</code> keyword, which is followed by
a name and an indented body.  Here, we're keeping the body as simple as
possible: it's effectively empty (the <code>pass</code> means "do nothing").  So let's
start our journey by seeing how Python responds to this piece of code.  The
<code>class</code> keyword in Python does two things:</p>
<ul>
<li>It creates a new object on the heap to represent this new class, and</li>
<li>it associates that class object with a name in the frame in which we were running when we encountered the <code>class</code> keyword.</li>
</ul>
<p>When running the code above, we start off running in the global frame as usual.
In this example, the first statement that Python encounters is the class
definition (indicated by the <code>class</code> keyword), and so it makes a new class
object.  We'll generally represent a class in our diagrams using a box similar
to those we used for functions, though we'll label this box with the word
"class" to help us keep track of the fact that it represents a class.</p>
<p>After making the fresh class object, the next step that Python takes is to run the code in the body of the class
(in a particular way, which we'll expand on shortly).
Here our class body is just <code>pass</code>, so there is nothing to do.</p>
<p>Finally, Python associates the new class object with the name <code>Vector2D</code> in the
global frame.  All told, the resulting diagram looks like the following:</p>
<center>
<img alt="An environment with a global frame on the stack on the left and one class object on the heap on the right. The name Vector 2d in the global from has an arrow that points to this class object, which is an empty square labeled class on top, with a small box on the top right corner similar to a function object." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_1.png" width="300">
</center>
<p>It's worth noting that, even though we'll draw class objects in a similar way
to how we draw function objects, classes don't have enclosing frames.  We still
draw classes with a little tab on their top-right corner, but it will have a
different meaning, which we'll discuss in more detail later.</p>
<p>Now that we've got our class represented, we can make an instance of that class
like so:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted">v = Vector2D()
</code></pre></section>
<p>Python sees this as a regular old assignment statement, so we'll start by
evaluating the expression on the right-hand side of the equals sign.  This
looks like a <em>call</em>, which we've seen before.  So Python first evaluates the
thing to the left of the round brackets to figure out which object we're
going to be calling.  In this case, it's what we get by evaluating the name
<code>Vector2D</code>, i.e., the class object we just created in the previous step.
In Python, when we call a class object using this syntax, Python proceeds by
making a new object representing an instance of that class.</p>
<p>We'll represent instances in our diagrams with a similar kind of box, but
labeled as "instance" instead of "function" or "class."  Each instance will
also store a reference to the class that it's an instance of.  So after
creating that new instance and associating it with the name <code>v</code>, our diagram
will look like the following:</p>
<center>
<img alt="An environment diagram similar to the previous, but with an arrow pointing from the name V in the global frame to an instance object on the heap. The instance object looks the same as the class object, but instead of the label class, it has the label instance at the top of the object. An arrow points from the small box in the top right corner of the instance to the class object pointed to be Vector 2d, and the arrow is labeled instance of." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_2.png" width="350">
</center>
<p>So far, our class and instance are somewhat boring, but this is indeed where
we intended to start, so that we could see how classes and instances get made,
as well as how we'll represent those things in our diagrams.  With those objects
made, we can introduce a new piece of syntax, so-called "dot notation."</p>
<p>Let's try the following now:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted">v.x = <span class="hljs-number">3</span>
v.y = <span class="hljs-number">4</span>
</code></pre></section>
<p>In some sense, this syntax is new.  But in some sense, it's familiar.  These
are both assignment statements, and they'll behave like the assignment
statements we've seen before.  What's different is simply: what are we
assigning to?  Let's start with the first of these: <code>v.x = 3</code>.  Python starts,
as always, by evaluating the right-hand side of the equals sign, resulting in a
new object representing <code>3</code>:</p>
<center>
<img alt="An environment diagram similar to the previous, but with the integer 3 on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_3.png" width="350">
</center>
<p>But then what are we assigning that <code>3</code> to?  When Python sees <code>v.x</code>, this means:
first evaluate <code>v</code>, and then, <em>within whatever object we get,</em> associate the value <code>3</code> with the name <code>x</code>.  So the end result here looks like the following:</p>
<center>
<img alt="An environment diagram similar to the previous, but with an arrow pointing from x in the instance object on the heap to the integer 3 on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_4.png" width="350">
</center>
<p>Note that the place where we associated the name <code>x</code> with the value <code>3</code> was
<em>inside of the instance</em>.  To introduce a bit of terminology, we call this kind
of association (inside of an object rather than a frame) an <em>attribute</em> of that
object.</p>
<p>For completeness, let's also carry out the next line, which says <code>v.y = 4</code>.
Here we follow a similar process, resulting in a diagram like the following:</p>
<center>
<img alt="An environment diagram similar to the previous, but with an arrow pointing from y in the instance object on the heap to the integer 4 on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_5.png" width="350">
</center>
<p>
<!--START question vector_3_example --></p><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_vector_3_example" style="position: static">
<div id="vector_3_example_rendered_question">
<div id="catsoop_preamble_vector_3_example"></div>
<div id="catsoop_prompt_vector_3_example" style="display: inline;">Starting from the diagram above, which of the following are valid ways to refer to the integer <code>3</code> on the heap?  Check all that apply.<br></div><fieldset aria-labelledby="catsoop_prompt_vector_3_example">
<div style="margin-bottom: 10px;"><input id="vector_3_example_opt0" name="vector_3_example_opt0" type="checkbox" value="0"><label for="vector_3_example_opt0"><code>v</code></label></div>
<div style="margin-bottom: 10px;"><input id="vector_3_example_opt1" name="vector_3_example_opt1" type="checkbox" value="1"><label for="vector_3_example_opt1"><code>v.v</code></label></div>
<div style="margin-bottom: 10px;"><input checked="checked" id="vector_3_example_opt2" name="vector_3_example_opt2" type="checkbox" value="2"><label for="vector_3_example_opt2"><code>v.x</code></label></div>
<div style="margin-bottom: 10px;"><input id="vector_3_example_opt3" name="vector_3_example_opt3" type="checkbox" value="3"><label for="vector_3_example_opt3"><code>x</code></label></div>
<div style="margin-bottom: 10px;"><input id="vector_3_example_opt4" name="vector_3_example_opt4" type="checkbox" value="4"><label for="vector_3_example_opt4"><code>x.v</code></label></div>
<div style="margin-bottom: 10px;"><input id="vector_3_example_opt5" name="vector_3_example_opt5" type="checkbox" value="5"><label for="vector_3_example_opt5"><code>x.x</code></label></div>
<div style="margin-bottom: 10px;"><input id="vector_3_example_opt6" name="vector_3_example_opt6" type="checkbox" value="6"><label for="vector_3_example_opt6"><code>v.v.x</code></label></div>
<div style="margin-bottom: 10px;"><input id="vector_3_example_opt7" name="vector_3_example_opt7" type="checkbox" value="7"><label for="vector_3_example_opt7"><code>x.x.v</code></label></div>
</fieldset><input id="vector_3_example" name="vector_3_example" type="hidden" value="{&quot;vector_3_example_opt2&quot;:true}">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
var vector_3_example_selected = {'vector_3_example_opt2': true};
document.getElementById("vector_3_example").value = JSON.stringify(vector_3_example_selected);
document.querySelectorAll("input[type=checkbox][name^=vector_3_example_opt]").forEach(function(r){
    r.addEventListener("click", function(){
        vector_3_example_selected[this.getAttribute("name")] = this.checked;
    document.getElementById("vector_3_example").value = JSON.stringify(vector_3_example_selected);
    });
});
// @license-end
</script>
</div><div>
<span id="vector_3_example_buttons">
<button class="submit btn btn-catsoop" id="vector_3_example_submit" onclick="catsoop.submit('vector_3_example');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="vector_3_example_clearanswer" onclick="catsoop.clearanswer('vector_3_example');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="vector_3_example_loading_wrapper" role="status">
<span id="vector_3_example_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="vector_3_example_score_display" role="status"></span>
<div class="nsubmits_left" id="vector_3_example_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="vector_3_example_solution_container">
<div id="vector_3_example_solution">
<p><b>Solution:</b></p>
<ul style="display:table; list-style: none; padding-left: 10px;"><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>v</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>v.v</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input checked="checked" disabled="disabled" type="checkbox"> <code>v.x</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>x</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>x.v</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>x.x</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>v.v.x</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>x.x.v</code></span></li></ul>
</div>
<div id="vector_3_example_solution_explanation"><hr><p><b>Explanation:</b></p>
<p>Here, we need to tell Python to look <em>inside</em> of <code>v</code> for the attribute called <code>x</code>.
We accomplish this by writing <code>v.x</code>.  Recall that this will cause Python first
to evaluate <code>v</code> and then to look inside of that object for an attribute called <code>x</code>.</p>
</div>
</div>
<div aria-atomic="true" id="vector_3_example_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="></div>
</div>
</section>
<!--END question vector_3_example -->
<p></p>
<p>
<!--START question q000000 --></p><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
<div id="catsoop_preamble_q000000"></div>
<div id="catsoop_prompt_q000000" style="display: inline;">If the last line had been <code>y = 4</code> instead of <code>v.y = 4</code>, which of the following diagrams would have resulted?
<center>
<table border="0">
<tbody><tr>
<td align="center"><b>A</b></td>
<td align="center"><b>B</b></td>
</tr>
<tr>
<td align="center"><img alt="An environment diagram identical to the previous" class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_q1_a.png" style="max-width: 400px; border: 2px solid #ddd;"></td>
<td align="center"><img alt="An environment diagram similar to the previous, but an arrow points from y in the class object on the heap instead of the instance object to the integer 4 on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_q1_b.png" style="max-width: 400px; border: 2px solid #ddd;"></td>
</tr>
</tbody></table>
<table border="0">
<tbody><tr>
<td align="center"><b>C</b></td>
<td align="center"><b>D</b></td>
</tr>
<tr>
<td align="center"><img alt="An environment diagram similar to the previous, but an arrow points from y in the global frame instead of the instance object on the heap to the integer 4 on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_q1_c.png" style="max-width: 400px; border: 2px solid #ddd;"></td>
<td align="center"><img alt="An environment diagram similar to the previous, but an arrow points from y in the global frame to the instance object on the heap, an arrow points from x in the instance object on the heap to the integer 4 on the heap, instead of the integer 3." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_q1_d.png" style="max-width: 400px; border: 2px solid #ddd;"></td>
</tr>
</tbody></table>
</center>
<p>Matching diagram:</p></div>
<select aria-labelledby="catsoop_prompt_q000000" id="q000000" name="q000000">
<option value="-1">--</option>
<option value="0">A</option>
<option value="1">B</option>
<option selected="selected" value="2">C</option>
<option value="3">D</option>
<option value="4">None (the correct diagram is not shown)</option>
<option value="5">None (a Python error occurs)</option></select>
</div><div>
<span id="q000000_buttons">
<button class="submit btn btn-catsoop" id="q000000_submit" onclick="catsoop.submit('q000000');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="q000000_clearanswer" onclick="catsoop.clearanswer('q000000');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="q000000_loading_wrapper" role="status">
<span id="q000000_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000000_score_display" role="status"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="q000000_solution_container">
<div id="q000000_solution">
<b>Solution:</b> C
</div>
<div id="q000000_solution_explanation"><hr><p><b>Explanation:</b></p>
<p>The original code worked by creating an attribute called <code>y</code> inside of the
instance that we're calling <code>v</code> in the global frame.  By contrast, <code>y = 4</code>
simply tells Python to make a new <em>variable in the global frame</em> called <code>y</code> that
refers to the value <code>4</code>.</p>
</div>
</div>
<div aria-atomic="true" id="q000000_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="></div>
</div>
</section>
<!--END question q000000 -->
<p></p>
<p><a class="anchor" name="catsoop_section_3_1_1"></a><a class="anchor" name="_magnitude_function"></a></p><h4 class="cs_section_title">3.1.1) Magnitude Function<a class="cs_permalink" href="#_magnitude_function">§</a></h4><p></p>
<p>Now that we have something in code to represent a vector, let's make a function
for working with these objects.  Since we have stored attributes <code>x</code> and <code>y</code>
inside of our instance, we can make a function that anticipates this.  Consider
the following code (which includes everything from above for clarity):</p>
<section aria-label="Code block"><pre><code class="language-python hljs highlighted"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vector2D</span>:</span>
    <span class="hljs-keyword">pass</span>

v = Vector2D()
v.x = <span class="hljs-number">3</span>
v.y = <span class="hljs-number">4</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">magnitude</span>(<span class="hljs-params">vec</span>):</span>
    <span class="hljs-keyword">return</span> (vec.x**<span class="hljs-number">2</span> + vec.y**<span class="hljs-number">2</span>) ** <span class="hljs-number">0.5</span>
</code></pre></section>
<div class="question"><b>Check Yourself:</b><p></p><p>What does the environment diagram look like after defining <code>magnitude</code>?</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div><p>Note that <code>magnitude</code> is defined in the global frame (it's not indented inside
of the class).  So this definition works the same way as other function
definitions we've seen in the past, resulting in the following diagram:</p>
<center>
<img alt="An environment diagram with a global frame in the stack on the left, and a class, instance, and function object in the heap on the right, all of which are boxes labeled on top as class, instance, and function, respectively, with small boxes in the top right of all of them. An arrow points from Vector 2d in the global frame to the class object on the heap, an arrow points from V in the global frame to the instance object on the heap. Arrows point from x and y in the instance object on the heap to the integer 3 and 4 on the heap, respectively, and an arrow labeled instance of points from the small box in the top right corner of the instance object to the class object. Finally, an arrow points from magnitude in the global frame to the function object on the heap, and an arrow labeled enclosing frame points from the function object to the global frame. Inside the function object, the parameter vec is listed at the top, then a horizontal line separates it from the body of the function, which is return square root of vec.x squared plus vec.y squared. " class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_func_0.png" width="800">
</center>
</div></div>
<p></p><p><span id="queue_checkyourself_1"></span></p></div>
<p>
<!--START question how_call_magnitude --></p><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_how_call_magnitude" style="position: static">
<div id="how_call_magnitude_rendered_question">
<div id="catsoop_preamble_how_call_magnitude"></div>
<div id="catsoop_prompt_how_call_magnitude" style="display: inline;">Given the code we've written above, which of the following are valid ways to compute the magnitude of the vector represented by <code>v</code>?  Check all that apply.<br></div><fieldset aria-labelledby="catsoop_prompt_how_call_magnitude">
<div style="margin-bottom: 10px;"><input id="how_call_magnitude_opt0" name="how_call_magnitude_opt0" type="checkbox" value="0"><label for="how_call_magnitude_opt0"><code>magnitude()</code></label></div>
<div style="margin-bottom: 10px;"><input checked="checked" id="how_call_magnitude_opt1" name="how_call_magnitude_opt1" type="checkbox" value="1"><label for="how_call_magnitude_opt1"><code>magnitude(v)</code></label></div>
<div style="margin-bottom: 10px;"><input id="how_call_magnitude_opt2" name="how_call_magnitude_opt2" type="checkbox" value="2"><label for="how_call_magnitude_opt2"><code>v.magnitude()</code></label></div>
<div style="margin-bottom: 10px;"><input id="how_call_magnitude_opt3" name="how_call_magnitude_opt3" type="checkbox" value="3"><label for="how_call_magnitude_opt3"><code>v.magnitude(v)</code></label></div>
<div style="margin-bottom: 10px;"><input id="how_call_magnitude_opt4" name="how_call_magnitude_opt4" type="checkbox" value="4"><label for="how_call_magnitude_opt4"><code>Vector2D.magnitude()</code></label></div>
<div style="margin-bottom: 10px;"><input id="how_call_magnitude_opt5" name="how_call_magnitude_opt5" type="checkbox" value="5"><label for="how_call_magnitude_opt5"><code>Vector2D.magnitude(v)</code></label></div>
</fieldset><input id="how_call_magnitude" name="how_call_magnitude" type="hidden" value="{&quot;how_call_magnitude_opt1&quot;:true}">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
var how_call_magnitude_selected = {'how_call_magnitude_opt1': true};
document.getElementById("how_call_magnitude").value = JSON.stringify(how_call_magnitude_selected);
document.querySelectorAll("input[type=checkbox][name^=how_call_magnitude_opt]").forEach(function(r){
    r.addEventListener("click", function(){
        how_call_magnitude_selected[this.getAttribute("name")] = this.checked;
    document.getElementById("how_call_magnitude").value = JSON.stringify(how_call_magnitude_selected);
    });
});
// @license-end
</script>
</div><div>
<span id="how_call_magnitude_buttons">
<button class="submit btn btn-catsoop" id="how_call_magnitude_submit" onclick="catsoop.submit('how_call_magnitude');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="how_call_magnitude_clearanswer" onclick="catsoop.clearanswer('how_call_magnitude');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="how_call_magnitude_loading_wrapper" role="status">
<span id="how_call_magnitude_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="how_call_magnitude_score_display" role="status"></span>
<div class="nsubmits_left" id="how_call_magnitude_nsubmits_left" role="status">You have submitted this assignment 2 times.</div></div>
<div class="solution" id="how_call_magnitude_solution_container">
<div id="how_call_magnitude_solution">
<p><b>Solution:</b></p>
<ul style="display:table; list-style: none; padding-left: 10px;"><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>magnitude()</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input checked="checked" disabled="disabled" type="checkbox"> <code>magnitude(v)</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>v.magnitude()</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>v.magnitude(v)</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>Vector2D.magnitude()</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>Vector2D.magnitude(v)</code></span></li></ul>
</div>
<div id="how_call_magnitude_solution_explanation"><hr><p><b>Explanation:</b></p>
<p>An important first question is: where is the name <code>magnitude</code> bound?  It's
present as a variable in the global frame.  As such, we can't use <code>v.magnitude</code>
(which would look inside of the instance object called <code>v</code>) or
<code>Vector2D.magnitude</code> (which would look inside of the class object called
<code>Vector2D</code>) to find it; rather, we simply refer to it as <code>magnitude</code>.
Evaluating the name <code>magnitude</code> in the global frame causes Python to find the
function object we defined above.</p>
<p>Once we have the function object in hand, there's a question of how to call it.
Importantly, this function takes a single argument representing the vector
whose magnitude we want to compute, so we need to pass in <code>v</code> explicitly.
Thus, only one of the options here works.</p>
</div>
</div>
<div aria-atomic="true" id="how_call_magnitude_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="></div>
</div>
</section>
<!--END question how_call_magnitude -->
<p></p>
<p>Now let's see what happens when we evaluate <code>magnitude(v)</code> in terms of our
environment diagram.  As usual, we recommend working through the diagram
step-by-step alongside the example below, trying to complete each step on your
own before stepping ahead and comparing your result against ours.</p>
<div class="multistep response converted buttons-enabled" markdown=""><div class="multistep-buttons"><button>&lt;&lt; First Step</button><button>&lt; Previous Step</button><button>Next Step &gt;</button><button>Last Step &gt;&gt;</button></div>
<div class="step active" data-explanation-for-step="0">
<h5 class="step-label">STEP 1</h5>
<center><img alt="An environment diagram identical to the previous." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_func_0.png" width="800"></center>
<p>Here we see the starting point repeated from above.  Click through to the next
step to get started.</p>
</div>
<div class="step" data-explanation-for-step="1">
<h5 class="step-label">STEP 2</h5>
<center><img alt="An environment diagram similar to the previous, but a small green check mark on the right side of the function object on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_func_1.png" width="800"></center>
<p>The call we're making here is <code>magnitude(v)</code>.  This looks like a function call,
so we start by evaluating the function we're going to call, as well as the
arguments we're passing in.  Here, evaluating the name <code>magnitude</code> gives us the
function object in the upper-right corner of the diagram.  That's the function
we're going to call, and we've marked it with a little check mark just for reference.</p>
<p>Evaluating <code>v</code> gives us the instance object we created (which has attributes
<code>x</code> and <code>y</code>).</p>
<p>Now that we know what function we're calling and what arguments we're passing
in, we can move ahead with the function call.  The first step in actually
calling the function is to make a new frame.</p>
</div>
<div class="step" data-explanation-for-step="2">
<h5 class="step-label">STEP 3</h5>
<center><img alt="An environment diagram similar to the previous, but with the frame F1 below the global frame on the stack." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_func_2.png" width="800"></center>
<p>Here we have drawn our new frame, which will store the local variables for this
call to <code>magnitude</code>.  But we've left off one key piece: we've not yet drawn its
parent pointer.  What should <strong>F1</strong>'s parent be?</p>
</div>
<div class="step" data-explanation-for-step="3">
<h5 class="step-label">STEP 4</h5>
<center><img alt="An environment diagram similar to the previous, but with an arrow pointing from F1 to the global frame." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_func_3.png" width="800"></center>
<p>Since the function we're calling (the function object in the upper-right corner
with the check mark next to it) has the global frame as its enclosing environment,
the global frame will be <strong>F1</strong>'s parent.</p>
<p>Now that we've set up our frame, the next step is to bind the parameters of the
function to the arguments that were passed in, inside of our new frame.  Go
ahead and update your copy of the diagram based on this, before clicking through
to the next step.</p>
</div>
<div class="step" data-explanation-for-step="4">
<h5 class="step-label">STEP 5</h5>
<center><img alt="An environment diagram similar to the previous, but with the name vec in the F1 frame pointing to the instance object on the heap pointed to by v in the global frame." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_func_4.png" width="800"></center>
<p>The function we're calling has a single parameter called <code>vec</code>, so that's the
variable we're creating in our new frame; and, as usual, it points to the object
that was passed in as argument (the instance that is called <code>v</code> in the
global frame).  After having done this, we're all set to run the body of the
function.  Think through all of the steps that are going to happen when we run
the body of the function in <strong>F1</strong>.  What will the final result be?</p>
</div>
<div class="step" data-explanation-for-step="5">
<h5 class="step-label">STEP 6</h5>
<center><img alt="An environment diagram similar to the previous, but with the red text return under the F1 frame, and an arrow pointing from return to the float 5.0 on the heap. Try to remember this environment diagram, it will be referred to multiple times." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_func_5.png" width="800"></center>
<p>Here we've actually skipped quite a few steps (most notably, the creation and
subsequent garbage collection of all of the intermediate results of the
calculations), but Python proceeds here by looking up <code>vec.x</code> (finding <code>3</code>) and
squaring it to get <code>9</code>, looking up <code>vec.y</code> (finding <code>4</code>), squaring it to get
<code>16</code>, adding those together to get <code>25</code>, and then finding the square root of
that to get <code>5.0</code>.  Note that the numbers <code>2</code> and <code>0.5</code> would also have been
allocated as part of this computation.</p>
</div>
</div>
<p><a class="anchor" name="catsoop_section_3_1_2"></a><a class="anchor" name="_rearranging_the_code"></a></p><h4 class="cs_section_title">3.1.2) Rearranging the Code<a class="cs_permalink" href="#_rearranging_the_code">§</a></h4><p></p>
<p>So far, we've seen an example of making a (small) class, making an instance of that class, and making a function designed
to operate on instances of that class.</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vector2D</span>:</span>
    <span class="hljs-keyword">pass</span>

v = Vector2D()
v.x = <span class="hljs-number">3</span>
v.y = <span class="hljs-number">4</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">magnitude</span>(<span class="hljs-params">vec</span>):</span>
    <span class="hljs-keyword">return</span> (vec.x**<span class="hljs-number">2</span> + vec.y**<span class="hljs-number">2</span>) ** <span class="hljs-number">0.5</span>
</code></pre></section>
<p>It's worth noting here that this function (<code>magnitude</code>) is not limited to
operating only on instances of the <code>Vector2D</code> class; it will work for any
object that has attributes <code>x</code> and <code>y</code> that both refer to numbers.  This is a
philosophy called "duck typing," which comes from the idea that if something
looks like a duck and it quacks like a duck, then it's fine to treat it like a
duck; and in this case, if something looks like a vector and quacks like a
vector (in the sense of having attributes <code>x</code> and <code>y</code> that both contain
numbers), then it's fine to use this function with it.  There are different
perspectives on this approach compared to others (some languages might be more
strict about types), but Python is generally very flexible about things like
this.</p>
<p>However, it's pretty clear that this function was <em>intended</em> to be used with
<code>Vector2D</code> classes.  But as it stands right now, there is nothing actually
connecting them together in terms of the code.  From a code-clarity perspective,
it would be nice for the <code>magnitude</code> function (which was written to work with
<code>Vector2D</code> instances) to be somehow associated with <code>Vector2D</code>.</p>
<p>We could perhaps make this connection clearer by calling our function something
like <code>vector_magnitude</code>, but even then, it's a pretty weak association.
However, Python gives us a much more explicit way to indicate that a function
(or, indeed, any piece of data) is connected with a particular class: by
including the code as part of the class's body.  So let's make a small change
to the code, putting the definition of the <code>magnitude</code> function inside the body
of the <code>Vector2D</code> class (and we'll also add another piece for purposes of
illustration, indicating the dimensionality of our vectors):</p>
<section aria-label="Code block"><button role="button" aria-pressed="true" class="catsoop-code-showhide">Show/Hide Line Numbers</button><pre style="padding-left: 0px !important;"><code class="language-py hljs python highlighted"><div class="catsoop-code-display hljs-ln"><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="1">1</span><span class="hljs-ln-line hljs-ln-code" data-line-number="1"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vector2D</span>:</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="2">2</span><span class="hljs-ln-line hljs-ln-code" data-line-number="2">    ndims = <span class="hljs-number">2</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="3">3</span><span class="hljs-ln-line hljs-ln-code" data-line-number="3"> </span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="4">4</span><span class="hljs-ln-line hljs-ln-code" data-line-number="4">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">magnitude</span>(<span class="hljs-params">vec</span>):</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="5">5</span><span class="hljs-ln-line hljs-ln-code" data-line-number="5">        <span class="hljs-keyword">return</span> (vec.x**<span class="hljs-number">2</span> + vec.y**<span class="hljs-number">2</span>) ** <span class="hljs-number">0.5</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="6">6</span><span class="hljs-ln-line hljs-ln-code" data-line-number="6"> </span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="7">7</span><span class="hljs-ln-line hljs-ln-code" data-line-number="7">v = Vector2D()</span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="8">8</span><span class="hljs-ln-line hljs-ln-code" data-line-number="8">v.x = <span class="hljs-number">3</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="9">9</span><span class="hljs-ln-line hljs-ln-code" data-line-number="9">v.y = <span class="hljs-number">4</span></span></div></div></code></pre></section>
<p>Note that all we've done here is to take our <code>magnitude</code> function and move it
into the body of the <code>Vector2D</code> class; we've not changed it in any other way.
But this change is going to introduce the next wrinkle into this example: now
we have a nontrivial body to our <code>Vector2D</code> class.  Python will start the same way as
before when we see the class definition, by making a new empty class object.
But then, Python proceeds by running the body of the class definition, subject
to some special rules:</p>
<ul>
<li>
<p>Any names that we bind in that definition are created as
<em>attributes of the class</em> rather than as variables in a frame.</p>
</li>
<li>
<p>When looking up a name as part of the class body, we first look for other
class attributes we've already defined; if the name does not exist there,
we proceed by looking it up in whatever frame we were running in when
encountering the class definition.</p>
</li>
</ul>
<p>Note that these rules <strong>only</strong> apply when evaluating the body of the class as
we're creating it; we'll have different name-lookup rules later on.</p>
<p>To make this more concrete, let's look at how Python works in the example above
by walking through a new environment diagram for this code.  Again, we'll go
step-by-step:</p>
<div class="multistep response converted buttons-enabled" data-side-by-side-code="" markdown=""><div class="multistep-buttons"><button disabled="disabled">&lt;&lt; First Step</button><button disabled="disabled">&lt; Previous Step</button><button>Next Step &gt;</button><button>Last Step &gt;&gt;</button></div>
<div class="step active" data-in-line="1-5" data-explanation-for-step="0">
<h5 class="step-label">STEP 1</h5>
<center><img alt="An empty environment diagram with a global frame on the stack and nothing on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_method_0.png" width="600"></center>
<p>As always, we start by creating a global frame, in which we'll start running.
The first thing we see when running is the class definition.
As before, Python starts by making a new class object, which we'll show on the
next step.</p>
</div>
<div class="step" data-in-line="2" data-explanation-for-step="1">
<h5 class="step-label">STEP 2</h5>
<center><img alt="An environment diagram similar to the previous, but with an empty class object on the heap, which is just an empty box labeled class on top, and a small box in the top right corner." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_method_1.png" width="600"></center>
<p>Now that we've got our empty class object, we start by running the body of the
class subject to the special rules we mentioned above.  The first thing we see
in the body of the class is <code>ndims = 2</code>.</p>
<p>What will be the result of executing this line of code?</p>
</div>
<div class="step" data-in-line="4-5" data-explanation-for-step="2">
<h5 class="step-label">STEP 3</h5>
<center><img alt="An environment diagram similar to the previous, but with an arrow pointing from n dims in the class object to the integer 2 on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_method_2.png" width="600"></center>
<p><code>ndims = 2</code> looks like an assignment statement, so, as always, we start by
evaluating the expression on the right-hand side of the equals sign, which, in
this case, gives us a new <code>int</code> object representing <code>2</code>.</p>
<p>Then, we associate that object with the name <code>ndims</code>.  But because this is
happening inside of a class definition, we bind that name not as a variable in
the global frame but as an attribute in the class object we're creating,
resulting in the diagram shown above.</p>
<p>Next (while still in the class's body) comes the definition of <code>magnitude</code>.
This one is a little bit tricky, but we can think through it.  What should
that function object look like?  What are its parameters, and what is its body?
And, importantly, what is its enclosing frame?</p>
<p>Try thinking through those questions, and then click through to the next step
to see the result.</p>
</div>
<div class="step" data-after-line="5" data-explanation-for-step="3">
<h5 class="step-label">STEP 4</h5>
<center><img alt="An environment diagram similar to the previous, but with an arrow pointing from magnitude in the class object to a function object on the heap. Inside the function object, the parameter vec is listed at the top, then a horizontal line separates it from the body of the function, which is return square root of vec.x squared plus vec.y squared. An arrow labeled enclosing frame points from the small box in the top right corner of the function object to the global frame." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_method_3.png" width="600"></center>
<p>Here we see the result of defining that function.  A couple of things are worth
paying attention to here:</p>
<ul>
<li>
<p>The name <code>magnitude</code> was bound as an attribute in the class object, not as a variable in the global frame.</p>
</li>
<li>
<p><em>However</em>, that function's enclosing frame (the frame in which we were running when we defined it) is still the global frame.</p>
</li>
</ul>
<p>This may feel somewhat strange, but it's critically important that things work
this way, and we'll see some examples of why things need to work this way later
on.</p>
<p>Now that we've got this function object created, we reach the bottom of the
class definition, and we are done with constructing the class object.  The
next step is to associate that class with the name <code>Vector2D</code> in the global
frame, which we'll show on the next step.</p>
</div>
<div class="step" data-in-line="7-9" data-explanation-for-step="4">
<h5 class="step-label">STEP 5</h5>
<center><img alt="An environment diagram similar to the previous, but with an arrow pointing from Vector 2D in the global frame to the class object on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_method_4.png" width="600"></center>
<p>Now that we have our class object, we can proceed with running the remaining
code (making an instance and setting some attributes of that instance).  These
steps will proceed exactly as they did in our initial example, so try adding them to
your diagram before clicking through to the next step to see the result.</p>
</div>
<div class="step" data-after-line="9" data-explanation-for-step="5">
<h5 class="step-label">STEP 6</h5>
<center><img alt="An environment diagram similar to the previous, but with an arrow pointing from v in the global frame to an instance object in the heap. Arrows point from x and y in the instance object to integers 3 and 4 on the heap, respectively. An arrow labeled instance of points from the instance object to the class object pointed to by Vector 2D." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_method_5.png" width="600"></center>
<p>Here we see the end result of running the code.</p>
</div>
</div>
<section aria-label="Code block"><button role="button" aria-pressed="true" class="catsoop-code-showhide">Show/Hide Line Numbers</button><pre style="padding-left: 0px !important;"><code class="language-py hljs python highlighted"><div class="catsoop-code-display hljs-ln"><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="1">1</span><span class="hljs-ln-line hljs-ln-code" data-line-number="1"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vector2D</span>:</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="2">2</span><span class="hljs-ln-line hljs-ln-code" data-line-number="2">  ndims = <span class="hljs-number">2</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="3">3</span><span class="hljs-ln-line hljs-ln-code" data-line-number="3"> </span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="4">4</span><span class="hljs-ln-line hljs-ln-code" data-line-number="4">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">magnitude</span>(<span class="hljs-params">vec</span>):</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="5">5</span><span class="hljs-ln-line hljs-ln-code" data-line-number="5">    <span class="hljs-keyword">return</span> (vec.x**<span class="hljs-number">2</span> + vec.y**<span class="hljs-number">2</span>) ** <span class="hljs-number">0.5</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="6">6</span><span class="hljs-ln-line hljs-ln-code" data-line-number="6"> </span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="7">7</span><span class="hljs-ln-line hljs-ln-code" data-line-number="7">v = Vector2D()</span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="8">8</span><span class="hljs-ln-line hljs-ln-code" data-line-number="8">v.x = <span class="hljs-number">3</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="9">9</span><span class="hljs-ln-line hljs-ln-code" data-line-number="9">v.y = <span class="hljs-number">4</span></span></div></div></code></pre></section>
<div style="clear: both"></div>
<p><a class="anchor" name="catsoop_section_3_2"></a><a class="anchor" name="_calling_methods"></a></p><h3 class="cs_section_title">3.2) Calling Methods<a class="cs_permalink" href="#_calling_methods">§</a></h3><p></p>
<p>From some perspective, this is really nice!  We've still made our function
as before, but now, as part of the <code>Vector2D</code> class, it is a little bit clearer
that the <code>magnitude</code> function is intended to operate on <code>Vector2D</code> objects.
To introduce another small piece of jargon: when a function is defined inside
of a class like this, we'll refer to it as a <em>method</em>.</p>
<p>Now let's try to call this function the same way we did before.</p>
<p>
<!--START question calling_error --></p><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_calling_error" style="position: static">
<div id="calling_error_rendered_question">
<div id="catsoop_preamble_calling_error"></div>
<div id="catsoop_prompt_calling_error" style="display: inline;">If we were to run <code>print(magnitude(v))</code>, what would happen?<br></div><div aria-labelledby="catsoop_prompt_calling_error" role="radiogroup">
<div style="margin-bottom: 10px;"><input id="calling_error_opts_0" name="calling_error_opts" type="radio" value="0"><label for="calling_error_opts_0">We would see <code>5.0</code> printed to the screen.</label></div>
<div style="margin-bottom: 10px;"><input id="calling_error_opts_1" name="calling_error_opts" type="radio" value="1"><label for="calling_error_opts_1">We would see <code>5</code> printed to the screen.</label></div>
<div style="margin-bottom: 10px;"><input checked="checked" id="calling_error_opts_2" name="calling_error_opts" type="radio" value="2"><label for="calling_error_opts_2">We would get a <code>NameError</code> exception.</label></div>
<div style="margin-bottom: 10px;"><input id="calling_error_opts_3" name="calling_error_opts" type="radio" value="3"><label for="calling_error_opts_3">We would get a <code>TypeError</code> exception.</label></div>
<div style="margin-bottom: 10px;"><input id="calling_error_opts_4" name="calling_error_opts" type="radio" value="4"><label for="calling_error_opts_4">We would get some other kind of exception.</label></div>
</div><input id="calling_error" name="calling_error" type="hidden" value="2">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.querySelectorAll("input[type=radio][name=calling_error_opts]").forEach(function(r){
    r.addEventListener("click", function(){
        document.getElementById("calling_error").value = this.value;
    });
});
// @license-end
</script>
</div><div>
<span id="calling_error_buttons">
<button class="submit btn btn-catsoop" id="calling_error_submit" onclick="catsoop.submit('calling_error');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="calling_error_clearanswer" onclick="catsoop.clearanswer('calling_error');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="calling_error_loading_wrapper" role="status">
<span id="calling_error_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="calling_error_score_display" role="status"></span>
<div class="nsubmits_left" id="calling_error_nsubmits_left" role="status">You have submitted this assignment 2 times.</div></div>
<div class="solution" id="calling_error_solution_container">
<div id="calling_error_solution">
<b>Solution:</b> We would get a <code>NameError</code> exception.
</div>
<div id="calling_error_solution_explanation"><hr><p><b>Explanation:</b></p>
<p>Now that we have moved this function inside of the <code>Vector2D</code> class, we can no
longer simply refer to it as <code>magnitude</code>!  If we were to do that, Python would
look for something called <code>magnitude</code> in the global frame.  Not finding anything
there, it would raise a <code>NameError</code>.</p>
<p>However, it <em>is</em> still possible to call this function; we just need to tell
Python how to find it!  In order to find that function, we need to grab it from
the <code>Vector2D</code> class instead of from the global frame.  We can do this by saying:</p>
<p><code>print(Vector2D.magnitude(v))</code></p>
<p>This causes Python to first evaluate the name <code>Vector2D</code>, and it finds the
associated class object.  Then it looks inside of that object for an attribute
called <code>magnitude</code>, and it finds the function object in the top-right corner
of the diagram we drew above.  From that point, the function call proceeds just
like it did before.</p>
<div class="question"><b>Check Yourself:</b><p></p><p>Walking through that process, what should the environment diagram look like just
before the call to <code>Vector2D.magnitude</code> returns?</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div><center>
<img alt="An environment diagram identical to the ending result of calling magnitude of v above, with the global frame and F1 frame on the stack, and class, instance, and function object on the heap along with 2, 3, 4, and 5." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_method_done.png" width="600">
</center>
</div></div>
<p></p><p><span id="queue_checkyourself_1"></span></p></div>
</div>
</div>
<div aria-atomic="true" id="calling_error_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="></div>
</div>
</section>
<!--END question calling_error -->
<p></p>
<p>The answer/explanation for the question above shows one way that we could
call this method.  But that example, for better or for worse, is not super
idiomatic, i.e., you will very rarely come across Python code that uses that
syntax for calling a method (using the class as a way to look up a method
and then passing in an instance of that class explicitly).  But there is
something quite nice about that form: it's very explicit; we tell Python where
to find the function we want to call and what arguments to pass in, and
everything proceeds according to rules we've already seen.</p>
<p>However, it's far more common to see a different way of calling this method,
using the following syntax:</p>
<p><code>v.magnitude()</code></p>
<p>Calling the method in this way produces the same result as our earlier
invocation of <code>Vector2D.magnitude(v)</code>, but something is strange: even though
the method we've defined has a single parameter, we've just (seemingly) called
it with no arguments.  So what is going on here?</p>
<p>It turns out that Python is doing some magic to make things work out this way.
The actual details are somewhat complicated, but one way that we can think about
what Python is doing is: when we look up a method by way of an instance, Python
figures out what class that's an instance of, finds the given method within that
class, and then <em>implicitly passes in that instance as the first argument</em>.  So
we can think of this as a transformation where the call <code>v.magnitude()</code> is turned
into <code>Vector2D.magnitude(v)</code>:</p>
<center>
<img alt="A diagram of how Python transforms the function call v.magnitude. Below v.magnitude the call is transformed to Vector2D.magnitude of v. The v on the first line is circled, and an arrow points from the v on the first line to the v in the function call on the second line. A arrow labeled is an instance of also points from v on the first line to Vector2D on the second line." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/instance_method_transform.png" width="225">
</center>
<p>It's perhaps worth mentioning that this is not <em>precisely</em> what's actually
happening behind the scenes.  But it's a close-enough approximation for most
applications (and the actual details are complicated enough!) that we'll stick
with this model for now; and in general, we'll say that if we look up a class
method by way of an instance of that class, then the instance we used to do the
lookup will be implicitly passed in as the first argument.</p>
<p>Since this process happens <em>before</em> the method is actually called, the
environment-diagram representation of the process for actually calling the
given method is identical regardless of whether we used <code>Vector2D.magnitude(v)</code>
or <code>v.magnitude()</code>; they both result in a diagram like the following (showing
the state just before the <code>5.0</code> is returned):</p>
<center>
<img alt="An environment diagram identical to the ending result of calling magnitude of v above, with the global frame and F1 frame on the stack, and class, instance, and function object on the heap along with 2, 3, 4, and 5." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_method_done.png" width="600">
</center>
<p><a class="anchor" name="catsoop_section_3_2_1"></a><a class="anchor" name="_a_common_error"></a></p><h4 class="cs_section_title">3.2.1) A Common Error<a class="cs_permalink" href="#_a_common_error">§</a></h4><p></p>
<p>It's worth pausing here for a moment to mention a common error message,
regarded by some as the most confusing error message in all of Python.</p>
<p>Consider evaluating the following expression using the definitions above:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-built_in">print</span>(v.magnitude(v))
</code></pre></section>
<p>In fact, it may be useful not just to consider this code, but to run it.
What happens?  Why?!</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div>The error message we see here is:
<section aria-label="Code block"><pre><code class="language-nohighlight highlighted">TypeError: Vector2D.magnitude() takes 1 positional argument but 2 were given
</code></pre></section>
<p>Until you get used to it (and even for a while afterwards...), this can be
extremely confusing (<em>What do you mean, Python?  I only gave it one argument!!</em>).</p>
<p>What's going on here, though, is that Python is implicitly providing <code>v</code> (the
instance we used to look up the method) as the first argument; and then whatever
arguments we provide are passed in afterwards.  So even though what we wrote is
<code>v.magnitude(v)</code>, thinking about the transformation we mentioned above, that's
equivalent to writing <code>Vector2D.magnitude(v, v)</code>, where the second <code>v</code> is the
one we provided explicitly, and the first was provided implicitly by Python.</p></div></div>
<p><a class="anchor" name="catsoop_section_3_3"></a><a class="anchor" name="_the_nature_of_self"></a></p><h3 class="cs_section_title">3.3) The Nature of Self<a class="cs_permalink" href="#_the_nature_of_self">§</a></h3><p></p>
<p>Here is where our code for the <code>Vector2D</code> class left off in the last section:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vector2D</span>:</span>

    ndims = <span class="hljs-number">2</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">magnitude</span>(<span class="hljs-params">vec</span>):</span>
        <span class="hljs-keyword">return</span> (vec.x**<span class="hljs-number">2</span> + vec.y**<span class="hljs-number">2</span>) ** <span class="hljs-number">0.5</span>
</code></pre></section>
<p>Those of you who have worked with classes in Python before might have been
surprised by the lack of a common word here.  Typically, when you encounter
Python code "in the wild," so to speak, class methods will have a first
parameter called <code>self</code>.  But here, the word <code>self</code> is absent (perhaps
conspicuously so!).  In this section, we'll take a brief moment to talk about
the nature of self.  Not in an existential sense, of course.  Countless great
philosophers have spent their lifetimes considering <em>that</em> question, and we'll
not be illuminating all of life's great mysteries in this reading; but what we
<em>can</em> do is to try to remove some of the mystery around <code>self</code> in Python.</p>
<p>So what is <code>self</code>?  As it so happens, it's not a keyword, nor a built-in
object, or anything like that.  It's just a really, really, really strong
convention for the name that we give to the first parameter of a method (whose
argument will be provided implicitly by the common way of invoking the
method).</p>
<p>So it would be far more common to write this code as follows:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vector2D</span>:</span>

    ndims = <span class="hljs-number">2</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">magnitude</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-keyword">return</span> (self.x**<span class="hljs-number">2</span> + self.y**<span class="hljs-number">2</span>) ** <span class="hljs-number">0.5</span>
</code></pre></section>
<p>But <em>this has no practical effect on the program</em>!  In the same way that
changing the name of a variable from <code>x</code> to <code>y</code> in any other function you write
doesn't affect the way the function behaves, changing the name of this parameter
from <code>vec</code> to <code>self</code> doesn't change anything about how the function behaves.
What it <em>does</em> change is one inner detail of our environment diagrams: in the
frame we create when calling the <code>magnitude</code> method, the instance we're working
with will be called <code>self</code> instead of <code>vec</code>:</p>
<center>
<img alt="An environment diagram similar to the ending result of calling magnitude of v above, with the global frame and F1 frame on the stack, and class, instance, and function object on the heap along with 2, 3, 4, and 5. But now, vec in the F1 frame was renamed to self and circled in yellow, along with vec in the function object." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_method_self.png" width="600">
</center>
<p>Again, that change is purely internal and has no meaningful effect on the
computation.  But this is such a strong convention that it is worth following.
And moving forward, we'll follow that convention and always call that first
parameter <code>self</code>.</p>
<p>Another reason to like the name <code>self</code>, other than that everyone is doing it,
is that it is consistent with a shift in perspective that often comes with the
introduction of classes: a shift toward "object-oriented" thinking.  With the
shift from <code>Vector2D.magnitude(v)</code> to <code>v.magnitude()</code> comes a shift in perspective:</p>
<ul>
<li>
<p>In the expression <code>Vector2D.magnitude(v)</code>, it feels like the <em>function</em> is
the active entity here.  We're saying: "Hey, <code>Vector2D.magnitude</code>, here's a
vector whose magnitude I want you to compute."</p>
</li>
<li>
<p>The details of the computation don't change when we instead write
<code>v.magnitude()</code>, but in this form, it feels like <code>v</code> is now the active
entity.  This feels more like saying: "Hey, <code>v</code>, tell me <em>your</em> magnitude!"</p>
</li>
</ul>
<p>When we take this second perspective, the name <code>self</code> starts to feel like a
nice choice of name.  It's the instance about which we're asking these
questions, and that instance is answering those questions about <em>itself</em>.</p>
<p><a class="anchor" name="catsoop_section_3_4"></a><a class="anchor" name="_variable_lookup_vs_attribute_lookup"></a></p><h3 class="cs_section_title">3.4) Variable Lookup vs Attribute Lookup<a class="cs_permalink" href="#_variable_lookup_vs_attribute_lookup">§</a></h3><p></p>
<p>Before we move on, let's talk just a bit more about <code>self</code>.  It's common,
especially when just starting out, to try to debug issues involving classes by
randomly putting "<code>self.</code>" in front of things (or deleting "<code>self.</code>" from in
front of things) until the error messages go away.  That's a fine place to
start, of course; but one of the things we're trying to do in 6.101 is to move
beyond that kind of "guess-and-check" style of programming and toward more
principled ways of thinking about things.</p>
<p>One of the things we've been talking about since we first started with
environment diagrams is <em>name resolution</em>: when I ask Python to look up a name,
where and how does it look for that name?  One of the things that we've
introduced here is another, distinct, set of rules for name resolution.  Here,
we'll try to make the rules for those two kinds of name resolution a bit
clearer and a bit more concrete, and hopefully use that as a way to start
thinking about how and when to use <code>self</code> in your own programs.</p>
<p>The rules we established much earlier in the course were about looking up
variables inside of frames.  That process was summarized as follows:</p>
<p>To look up a variable:</p>
<ol>
<li>look in the current frame first</li>
<li>if not found, look in the <em>parent</em> frame</li>
<li>if not found, look in that frame's parent frame</li>
<li><span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2026"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>…</mo></math></mjx-assistive-mml></mjx-container></span> (keep following that process, looking in parent frames)</li>
<li>if not found, look in the global frame</li>
<li>if not found, look in the builtins (where things like <code>print</code>, <code>len</code>, etc. are bound)</li>
<li>if not found, raise a <code>NameError</code></li>
</ol>
<p>What we've introduced here is something separate, which we call <em>attribute
lookup</em>.  The idea is that we've already found an object and, instead of
looking in a frame for a variable, we want to look <em>within that object</em> for
something.  This process proceeds a little bit differently:</p>
<p>To look up an attribute inside of an object:</p>
<ol>
<li>look in the object itself</li>
<li>if not found, look in that object's class</li>
<li>if not found, look in that class's superclass</li>
<li>if not found, look in <em>that</em> class's superclass</li>
<li><span class=""><mjx-container class="MathJax" jax="CHTML" style="font-size: 119.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2026"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>…</mo></math></mjx-assistive-mml></mjx-container></span> (keep following that process, looking in superclasses)</li>
<li>if not found and no more superclasses, raise an <code>AttributeError</code></li>
</ol>
<p>Since we're saving our conversation about superclasses until the next
reading, the most important steps for us now are the first two.  It's also
important to notice that this process of attribute lookup <em>never crosses over
to start looking in frames</em>; it's a completely separate process.</p>
<p><a class="anchor" name="catsoop_section_3_4_1"></a><a class="anchor" name="_an_example"></a></p><h4 class="cs_section_title">3.4.1) An Example<a class="cs_permalink" href="#_an_example">§</a></h4><p></p>
<p>As a brief concrete example, let's look back at our <code>magnitude</code> example from
before:</p>
<section aria-label="Code block"><pre><code class="language-python hljs highlighted"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vector2D</span>:</span>

    ndims = <span class="hljs-number">2</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">magnitude</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-keyword">return</span> (self.x**<span class="hljs-number">2</span> + self.y**<span class="hljs-number">2</span>) ** <span class="hljs-number">0.5</span>

v = Vector2D()
v.x = <span class="hljs-number">3</span>
v.y = <span class="hljs-number">4</span>
<span class="hljs-built_in">print</span>(v.magnitude())
</code></pre></section>
<p>What we want to think about here is the difference between saying, for example,
<code>self.x</code> inside the body of <code>magnitude</code>, versus just saying <code>x</code>.  At the point
where we start evaluating the body of the <code>magnitude</code> function, our environment looks like:</p>
<center>
<img alt="An environment diagram similar to the previous one that had vec renamed to self, but without the return statement or the float 5 on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_env_method_self_static.png" width="600">
</center>
<div class="question"><b>Check Yourself:</b><p></p><p>If the body of our <code>magnitude</code> function had been <code>return (x**2 + y**2) ** 0.5</code>, what
would have happened?</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div>In this case, we would need to evaluate <code>x</code> as part of evaluating the overall
expression.  Looking up <code>x</code> in <strong>F1</strong>, we don't find it.  So we look for <code>x</code> in
the global frame.  We don't find it there, either!  And there's no built-in
called <code>x</code>, so we end up with a <code>NameError</code>!</div></div>
<p></p><p><span id="queue_checkyourself_2"></span></p></div>
<div class="question"><b>Check Yourself:</b><p></p><p>How is this different from how things evolve with the code as written above (which uses <code>self.x</code> instead of <code>x</code>)?</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div>With the code as written, we never look up a variable called <code>x</code>.  We <em>do</em> look
up a variable called <code>self</code> in <strong>F1</strong>, and
we immediately find it; evaluating <code>self</code> in <strong>F1</strong> gives us the <code>Vector2D</code> instance we
created earlier.  Then, <em>inside of that object</em>, we look for an attribute called
<code>x</code>, which we find right away; so <code>self.x</code> ultimately evaluates to <code>3</code>.
<p>As another example, if we had <code>self.ndims</code> somewhere in the function body, that
lookup would proceed in the same way.  We would start by looking up the name
<code>self</code>, and we would find that same <code>Vector2D</code> instance.  Then we would look in that object
for an attribute called <code>ndims</code>.  Not finding it, we would look in that
instance's class (following the dark blue arrow in the diagram), where we would
find the value of <code>2</code>.</p></div></div>
<p></p><p><span id="queue_checkyourself_3"></span></p></div>
<p>It also turns out that this distinction provides some motivation for why our
magnitude function's enclosing frame was the global frame instead of the
<code>Vector2D</code> class.  Having things set up that way makes sure that we can access
information both from instances we're working with and from our usual frame
structure.  We can look up attributes by way of <code>self</code> (or whatever we called
that first parameter), and we can look up variables from elsewhere in the
environment in the same way that we could in any other function (by referring
to those things by name, without <code>self.</code>).</p>
<p><a class="anchor" name="catsoop_section_3_5"></a><a class="anchor" name="_init"></a></p><h3 class="cs_section_title">3.5) <code>__init__</code><a class="cs_permalink" href="#_init">§</a></h3><p></p>
<p>Let's wrap up this example by taking one more step to make our <code>Vector2D</code> class
more conventional (and also more convenient to use).  As of right now, it's
somewhat painful for us to make instances of our <code>Vector2D</code> class.  Here's the
code we wrote to make a single instance:</p>
<section aria-label="Code block"><pre><code class="language-python hljs highlighted">v = Vector2D()
v.x = <span class="hljs-number">3</span>
v.y = <span class="hljs-number">4</span>
</code></pre></section>
<p>If we want to make multiple instances of vectors within my program, it's kind
of a pain to type out those three lines each time.  It's also error-prone!
What if we typo the name <code>x</code> or <code>y</code>?  Or what if we forget to set one of those
attributes for one of our instances (suddenly <code>magnitude</code> won't work for that
instance!)?</p>
<p>Conveniently, Python gives us a way to canonize the way in which instances of
a class are set up, by way of a "magic" method called <code>__init__</code>.  We'll define
<code>__init__</code> like any other method, and we'll be able to call it like any other
method.  But calling it <code>__init__</code> will cause Python to invoke it implicitly
whenever we create a new instance of <code>Vector2D</code>, and any arguments we provide
when calling <code>Vector2D</code> will be passed in to the <code>__init__</code> method.  Let's
adjust our code to include an <code>__init__</code> method:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vector2D</span>:</span>
    ndims = <span class="hljs-number">2</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, x, y</span>):</span>
        self.x = x
        self.y = y

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">magnitude</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-keyword">return</span> (self.x**<span class="hljs-number">2</span> + self.y**<span class="hljs-number">2</span>) ** <span class="hljs-number">0.5</span>
</code></pre></section>
<p>When we've done this, we can make a new instance with, for example, <code>v =
Vector2D(6, 8)</code>, which will cause <code>v</code> to be a new instance whose <code>x</code> and
<code>y</code> attributes are set to <code>6</code> and <code>8</code>, respectively.</p>
<p>This process follows the steps we outlined earlier for creating an instance of
a class, with one notable exception: if the class we're making an instance of
contains an <code>__init__</code> method, then after creating the instance, Python will
automatically call that <code>__init__</code> method with the new instance passed in as
the first argument (followed by any arguments we explicitly provided).</p>
<p>Let's walk through this process as well, using an environment diagram:</p>
<div class="multistep response converted buttons-enabled" data-side-by-side-code="" markdown="" style="margin-right: -8%"><div class="multistep-buttons"><button disabled="disabled">&lt;&lt; First Step</button><button disabled="disabled">&lt; Previous Step</button><button>Next Step &gt;</button><button>Last Step &gt;&gt;</button></div>
<div class="step active" data-before-line="11" data-explanation-for-step="0">
<h5 class="step-label">STEP 1</h5>
<center><img alt="An environment diagram with the global frame on the stack and a class and 2 function objects on the heap. An arrow points from Vector2D in the global frame to the class object on the heap. An arrow points from ndims in the class object to the integer 2 on the heap. An arrow points from underscore underscore init underscore underscore in the class object to a function object on the heap. This function object has parameters self, x, and y, and the body self.x = x and self.y = y. An arrow points from this function object back to the global frame. Finally, an arrow points from magnitude in the class object to the other function object on the heap. The function object has parameter self, and the body return square root of self.x squared + self.y squared. An arrow points from this function object to the global frame." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_init_0.png" width="600"></center>
<p>This picture shows the diagram after running all of the code in the class
definition.  Note that, compared to earlier versions, we now have two methods
defined inside of the <code>Vector2D</code> class.</p>
<p>Now we're going to take a look at running the code: <code>v = Vector2D(6, 8)</code>.</p>
</div>
<div class="step" data-in-line="11" data-explanation-for-step="1">
<h5 class="step-label">STEP 2</h5>
<center><img alt="An environment diagram similar to the previous, but with an empty instance object on the heap, with an arrow labeled instance of pointing to the class object on the heap, along with the integers 6 and 8 on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_init_1.png" width="600"></center>
<p>The code <code>v = Vector2D(6, 8)</code> first evaluates its arguments <code>6</code> and <code>8</code>, and then makes a new empty instance, shown here.</p>
<p>Next, since there is an <code>__init__</code> method in the attribute-lookup chain here,
Python is going to call that function implicitly with our new (currently empty)
instance passed in as a first argument.</p>
<p>In order to do that, we need to know what function we're calling.
In the next step, we'll show the results of evaluating those arguments.</p>
</div>
<div class="step" data-in-line="11" data-explanation-for-step="2">
<h5 class="step-label">STEP 3</h5>
<center><img alt="An environment diagram similar to the previous, but with a green check mark on the right side of the function object pointed to by underscore underscore init underscore underscore in the class object pointed to by Vector2D in the global frame." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_init_2.png" width="600"></center>
<p>Here, we've marked <code>Vector2D.__init__</code> as the function we're going to call, and
we need to figure out the arguments to it as well.  The first (which Python is
going to pass in implicitly) is the instance object we made before.  The second
and third are the objects we got from evaluating <code>6</code> and <code>8</code>, respectively.</p>
<p>From this point on, this process will proceed just like any other function
call.</p>
<p>Now that we know what function we're calling and what arguments we're passing
in, we can proceed with calling the function.  Our next step is going to be
making a frame for this function call.  Before clicking through: what will its
parent pointer be?</p>
</div>
<div class="step" data-in-line="11" data-explanation-for-step="3">
<h5 class="step-label">STEP 4</h5>
<center><img alt="An environment diagram similar to the previous, but with a new frame F1 below the global frame on the stack, and an arrow pointing from F1 to the global frame." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_init_3.png" width="600"></center>
<p>Here we see our new frame, with its parent pointer going to the global frame
(the enclosing frame of the function we're calling).</p>
<p>Our next step will be to bind the parameters of the function to the arguments
that were passed in, inside of our new frame <strong>F1</strong>.  Think through how the
diagram will change as a result of making those bindings before clicking through
to the next step.</p>
</div>
<div class="step" data-before-line="5" data-explanation-for-step="4">
<h5 class="step-label">STEP 5</h5>
<center><img alt="An environment diagram similar to the previous, but with an arrow pointing from self in the F1 frame to the instance object on the heap. Arrows point from x and y in the F1 frame to the integers 6 and 8 on the heap respectively." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_init_4.png" width="600"></center>
<p>Here, we see the result of that setup.  The function we're calling had three
parameters: <code>self</code>, <code>x</code>, and <code>y</code>.  So here we've bound those names to the three
arguments that were passed in.</p>
<p>Now we're ready to run the body of the function.  Clicking through to the next
step will only show the result of executing the first line of the body, <code>self.x = x</code>.
Think carefully about how that will affect the diagram, before clicking through
to the next step.</p>
</div>
<div class="step" data-after-line="5" data-explanation-for-step="5">
<h5 class="step-label">STEP 6</h5>
<center><img alt="An environment diagram similar to the previous, but with an arrow pointing from x in the instance object pointed to by self in the F1 frame to the integer 6 on the heap, which is also pointed to by x in the F1 frame." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_init_5.png" width="600"></center>
<p>Here we see the result of executing <code>self.x = x</code> inside of <strong>F1</strong>. This looks
like an assignment statement, so, as always, we start by evaluating the
right-hand side of the equals sign, where we see the name <code>x</code>.  Looking up the
name <code>x</code> in <strong>F1</strong> gives us the <code>int</code> object representing <code>6</code>.</p>
<p>Then, where do we put that?  Well, we're putting it in <code>self.x</code>.  We start by
evaluating <code>self</code> in <strong>F1</strong>, and following the arrow we end up at the new
instance we're making.  So inside of that instance, we make a new attribute
called <code>x</code>, pointing to the <code>6</code> object we found a moment ago.</p>
<p>Clicking through to the next step will show the result of running the next line
of the body of this function.</p>
</div>
<div class="step" data-after-line="6" data-explanation-for-step="6">
<h5 class="step-label">STEP 7</h5>
<center><img alt="An environment diagram similar to the previous, but with an arrow pointing from y in the instance object pointed to by self in the F1 frame to the integer 8 on the heap, which is also pointed to by y in the F1 frame." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_init_6.png" width="600"></center>
<p>Given the process we followed on the last step, hopefully this part is not
terribly surprising!  The end result is that our new instance now has an
attribute called <code>y</code> that is bound to the <code>int</code> object representing <code>8</code>.</p>
<p>At this point, we've reached the end of the body of the <code>__init__</code> function,
so we're all done, and we're ready to clean up <strong>F1</strong>.  Clicking through to
the next step will show the result.</p>
</div>
<div class="step" data-in-line="11" data-explanation-for-step="7">
<h5 class="step-label">STEP 8</h5>
<center><img alt="An environment diagram similar to the previous, but with the F1 frame and all arrows pointing from it removed." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_init_7.png" width="600"></center>
<p>Now that we've cleaned up <strong>F1</strong>, we can clearly see the end result of this
whole process.  Our brand-new instance has its attributes appropriately set!</p>
<p>Finally, let's recall how we got here.  Our original goal was to execute
<code>v = Vector2D(6, 8)</code> in the global frame.  And we've evaluated the right-hand
side of the equals sign (the result is this new instance!), so all that's left
to do is to associate this instance with the name <code>v</code> in the global frame.</p>
</div>
<div class="step" data-after-line="11" data-explanation-for-step="8">
<h5 class="step-label">STEP 9</h5>
<center><img alt="An environment diagram similar to the previous, but with an arrow pointing from v in the global frame to the instance object on the heap." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/vector_init_8.png" width="600"></center>
<p>Here we see the end result of this process, with our new instance bound to the
name <code>v</code>.</p>
</div>
</div>
<section aria-label="Code block"><button role="button" aria-pressed="true" class="catsoop-code-showhide">Show/Hide Line Numbers</button><pre style="padding-left: 0px !important;"><code class="language-py hljs python highlighted"><div class="catsoop-code-display hljs-ln"><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="1">1</span><span class="hljs-ln-line hljs-ln-code" data-line-number="1"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vector2D</span>:</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="2">2</span><span class="hljs-ln-line hljs-ln-code" data-line-number="2">  ndims = <span class="hljs-number">2</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="3">3</span><span class="hljs-ln-line hljs-ln-code" data-line-number="3"> </span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="4">4</span><span class="hljs-ln-line hljs-ln-code" data-line-number="4">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, x, y</span>):</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="5">5</span><span class="hljs-ln-line hljs-ln-code" data-line-number="5">    self.x = x</span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="6">6</span><span class="hljs-ln-line hljs-ln-code" data-line-number="6">    self.y = y</span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="7">7</span><span class="hljs-ln-line hljs-ln-code" data-line-number="7"> </span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="8">8</span><span class="hljs-ln-line hljs-ln-code" data-line-number="8">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">magnitude</span>(<span class="hljs-params">self</span>):</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="9">9</span><span class="hljs-ln-line hljs-ln-code" data-line-number="9">    <span class="hljs-keyword">return</span> (self.x**<span class="hljs-number">2</span> + self.y**<span class="hljs-number">2</span>) ** <span class="hljs-number">0.5</span></span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="10">10</span><span class="hljs-ln-line hljs-ln-code" data-line-number="10"> </span></div><div class="catsoop-code-line"><span class="hljs-ln-line hljs-ln-numbers" data-line-number="11">11</span><span class="hljs-ln-line hljs-ln-code" data-line-number="11">v = Vector2D(<span class="hljs-number">6</span>, <span class="hljs-number">8</span>)</span></div></div></code></pre></section>
<div style="clear: both"></div>
<p><code>__init__</code> is a really powerful tool that helps us avoid repetition when making
multiple instances of the same class.  With this implemented, we can make new
instances much more easily and rest assured that each one is going to have
been set up properly.</p>
<p><a class="anchor" name="catsoop_section_3_5_1"></a><a class="anchor" name="_dunder_methods"></a></p><h4 class="cs_section_title">3.5.1) Dunder Methods<a class="cs_permalink" href="#_dunder_methods">§</a></h4><p></p>
<p><code>__init__</code> is not the only method that Python will invoke 
implicitly.  Python
gives us a number of ways to integrate our custom type more tightly into
 the language, by
way of other "magic" methods that we can implement if we want. We can 
think of most of these as being translations.  For example:</p>
<ul>
<li><code>print(x)</code> is translated implicitly to <code>print(x.__str__())</code></li>
<li><code>abs(x)</code> is translated implicitly to <code>x.__abs__()</code></li>
<li><code>x + y</code> is translated implicitly to <code>x.__add__(y)</code></li>
<li><code>x - y</code> is translated implicitly to <code>x.__sub__(y)</code></li>
<li><code>x[y]</code> is translated implicitly to <code>x.__getitem__(y)</code></li>
<li><code>x[y] = z</code> is translated implicitly to <code>x.__setitem__(y, z)</code></li>
</ul>
<p>So by defining these kinds of methods, we allow for using normal Python
operations with instances of our classes.  For example, if our class defines the <code>__add__()</code> method, then
we will be able to use the Python <code>+</code> operator on its instances.</p>

<p>These methods are also sometimes called "dunder" methods,
short for "double underscore," because of the naming convention that they all
follow.</p>
<p>We'll see several examples of these over the coming readings, recitations, and
labs; but for a complete list, see <a href="https://docs.python.org/3/reference/datamodel.html#special-method-names">here</a>.</p>
<p><a class="anchor" name="catsoop_section_4"></a><a class="anchor" name="_example_linked_lists"></a></p><h2 class="cs_section_title">4) Example: Linked Lists<a class="cs_permalink" href="#_example_linked_lists">§</a></h2><p></p>
<p>Now that we've talked about some of the machinery at play here, we'll devote
the rest of this reading to walking through an example in detail.  You're
encouraged to follow along with our examples and try things out on your own
machine as you work through this section!</p>
<p>The example we'll work with here will involve implementing a structure called a
<em>linked list</em>, which is a different way of implementing lists (ordered
collections of elements) than the way that Python's lists are implemented
internally.  Logically, we will be implementing an ordered collection of
elements, and the operations that we'll be able to perform on it will be
similar to those that we can perform on lists, but how the data are stored and
how those operations are performed will be different.</p>
<p>We'll start by implementing some basic operations, and then we'll take
advantage of the "dunder"-method idea to make our linked lists feel like
they're really a part of Python.</p>
<p>As a running example, let's consider a list containing 4, 8, 15, 16, 23, and 42
(in that order).  In our linked-list representation, each location in the list
is represented by a <em>node</em>, which is some kind of object that stores two
things: an element and a reference to the next node in the list.  So
graphically, we might think of our example linked list in the following way:</p>
<center>
<img alt="A depiction of a linked list with 6 items in it. Each item is a two item list, the first element has an arrow pointing from it to an integer. The second element has an arrow pointing from it to the next item in the linked list, except for the last item on the right, which has an arrow pointing to None. The numbers pointed to by the first element in each linked list item are 4, 8, 15, 16, 23, and 42, respectively." class="catsoop-darkmode-invert" src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/ll.png" width="500">
</center>
<p>This is a little bit of shorthand designed to show the structure of a linked
list, but in the code that we'll write below, each of the nodes will be
represented by an instance of a class.  Notice that there are several different
nodes here, each of which has a value and a reference to the next node in the
list.  In our representation, we will know that a node represents the <em>end</em> of
a linked list if it has no next node (if that reference points to <code>None</code>
instead of to another node).</p>
<p>
<!--START question ll_count_nodes --></p><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_ll_count_nodes" style="position: static">
<div id="ll_count_nodes_rendered_question">
<div id="catsoop_preamble_ll_count_nodes"></div>
<div id="catsoop_prompt_ll_count_nodes" style="display: inline;">How many nodes would we need to represent a linked list containing <code>-7</code>, <code>2</code>, <code>'hello'</code>, and <code>'cat'</code>?<br></div><input aria-labelledby="catsoop_prompt_ll_count_nodes" id="ll_count_nodes" name="ll_count_nodes" size="50" type="text" value="4">
</div><div>
<span id="ll_count_nodes_buttons">
<button class="submit btn btn-catsoop" id="ll_count_nodes_submit" onclick="catsoop.submit('ll_count_nodes');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="ll_count_nodes_clearanswer" onclick="catsoop.clearanswer('ll_count_nodes');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="ll_count_nodes_loading_wrapper" role="status">
<span id="ll_count_nodes_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="ll_count_nodes_score_display" role="status"></span>
<div class="nsubmits_left" id="ll_count_nodes_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="ll_count_nodes_solution_container">
<div id="ll_count_nodes_solution">
<p><b>Solution:</b> <tt>4</tt></p><p>
</p><p></p>
</div>
<div id="ll_count_nodes_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="ll_count_nodes_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="><br></div>
</div>
</section>
<!--END question ll_count_nodes -->
<p></p>
<p>We call this thing a linked list because, in some sense, it is not only the
nodes but also the <em>linkages between them</em> that tell us what elements are in
the list, governing how we perform various operations on the list.</p>
<p>Below, we'll write code to represent this kind of structure in Python.
Interestingly, our code will not have an explicit representation for the entire
list; rather, we'll make a representation for an individual node, and the
overall list will in some sense be represented by the connections between those
nodes.</p>
<p>Here is our initial representation, including a full <code>__init__</code> method as well
as some small skeletons for a few methods we'll implement below and an
instantiation of our example list.</p>
<section aria-label="Code block"><pre><code class="language-python hljs highlighted"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LinkedList</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, element, next_node=None</span>):</span>
        self.element = element
        self.next_node = next_node

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">self, index</span>):</span>
        <span class="hljs-keyword">pass</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set</span>(<span class="hljs-params">self, index, value</span>):</span>
        <span class="hljs-keyword">pass</span>


x = LinkedList(<span class="hljs-number">4</span>,
        LinkedList(<span class="hljs-number">8</span>,
            LinkedList(<span class="hljs-number">15</span>,
                LinkedList(<span class="hljs-number">16</span>,
                    LinkedList(<span class="hljs-number">23</span>, LinkedList(<span class="hljs-number">42</span>))))))
</code></pre></section>
<p>Note that every time we make a new instance of this class, we specify an element
and a "next node," which should either be a <code>LinkedList</code> instance that follows this
node in the list or <code>None</code> if the node we're making represents the end of the
list.</p>
<p>
<!--START question example_linkedlist --></p><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_example_linkedlist" style="position: static">
<div id="example_linkedlist_rendered_question">
<div id="catsoop_preamble_example_linkedlist"></div>
<div id="catsoop_prompt_example_linkedlist" style="display: inline;">Write an expression that uses <code>LinkedList</code> to construct a linked list containing the elements <code>9</code>, <code>7</code>, and <code>8</code> (in that order).  <em>Hint: how many <code>LinkedList</code> instances should there be in such a list?</em><br></div><input aria-labelledby="catsoop_prompt_example_linkedlist" id="example_linkedlist" name="example_linkedlist" size="50" type="text" value="LinkedList(9, LinkedList(7, LinkedList(8, )))">
</div><div>
<span id="example_linkedlist_buttons">
<button class="submit btn btn-catsoop" id="example_linkedlist_submit" onclick="catsoop.submit('example_linkedlist');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="example_linkedlist_clearanswer" onclick="catsoop.clearanswer('example_linkedlist');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="example_linkedlist_loading_wrapper" role="status">
<span id="example_linkedlist_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="example_linkedlist_score_display" role="status"></span>
<div class="nsubmits_left" id="example_linkedlist_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="example_linkedlist_solution_container">
<div id="example_linkedlist_solution">
<p><b>Solution:</b> <tt>LinkedList(9, LinkedList(7, LinkedList(8)))</tt></p><p>
</p><p></p>
</div>
<div id="example_linkedlist_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="example_linkedlist_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="><br></div>
</div>
</section>
<!--END question example_linkedlist -->
<p></p>
<p><a class="anchor" name="catsoop_section_4_1"></a><a class="anchor" name="_getting_an_element"></a></p><h3 class="cs_section_title">4.1) Getting an Element<a class="cs_permalink" href="#_getting_an_element">§</a></h3><p></p>
<p>Let's start our implementation with a common operation: getting the element at
a given index in a linked list.  There are multiple ways that we could go about
doing this, so let's take a look at a couple ways below.</p>
<p><a class="anchor" name="catsoop_section_4_1_1"></a><a class="anchor" name="_iteratively"></a></p><h4 class="cs_section_title">4.1.1) Iteratively<a class="cs_permalink" href="#_iteratively">§</a></h4><p></p>
<p>Let's start by trying an iterative approach:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">self, index</span>):</span>
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(index):
            self = self.next_node
        <span class="hljs-keyword">return</span> self.element
</code></pre></section>
<p>Take a moment to think about this code and then answer the following questions
about it:</p>
<p>
<!--START question get_iterative_bugs --></p><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_get_iterative_bugs" style="position: static">
<div id="get_iterative_bugs_rendered_question">
<div id="catsoop_preamble_get_iterative_bugs"></div>
<div id="catsoop_prompt_get_iterative_bugs" style="display: inline;">Using the example linked list <code>x</code> above, what will happen when we run <code>print(x.get(2))</code>?  Select all that apply.<br></div><fieldset aria-labelledby="catsoop_prompt_get_iterative_bugs">
<div style="margin-bottom: 10px;"><input checked="checked" id="get_iterative_bugs_opt0" name="get_iterative_bugs_opt0" type="checkbox" value="0"><label for="get_iterative_bugs_opt0">It will run to completion and give us the correct answer.</label></div>
<div style="margin-bottom: 10px;"><input id="get_iterative_bugs_opt1" name="get_iterative_bugs_opt1" type="checkbox" value="1"><label for="get_iterative_bugs_opt1">It will run to completion and give us an incorrect answer.</label></div>
<div style="margin-bottom: 10px;"><input id="get_iterative_bugs_opt2" name="get_iterative_bugs_opt2" type="checkbox" value="2"><label for="get_iterative_bugs_opt2">It will change the value of <code>x</code> in the global frame such that subsequent calls will fail.</label></div>
<div style="margin-bottom: 10px;"><input id="get_iterative_bugs_opt3" name="get_iterative_bugs_opt3" type="checkbox" value="3"><label for="get_iterative_bugs_opt3">It will enter an infinite loop.</label></div>
<div style="margin-bottom: 10px;"><input id="get_iterative_bugs_opt4" name="get_iterative_bugs_opt4" type="checkbox" value="4"><label for="get_iterative_bugs_opt4">An exception will be raised.</label></div>
</fieldset><input id="get_iterative_bugs" name="get_iterative_bugs" type="hidden" value="{&quot;get_iterative_bugs_opt0&quot;:true}">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
var get_iterative_bugs_selected = {'get_iterative_bugs_opt0': true};
document.getElementById("get_iterative_bugs").value = JSON.stringify(get_iterative_bugs_selected);
document.querySelectorAll("input[type=checkbox][name^=get_iterative_bugs_opt]").forEach(function(r){
    r.addEventListener("click", function(){
        get_iterative_bugs_selected[this.getAttribute("name")] = this.checked;
    document.getElementById("get_iterative_bugs").value = JSON.stringify(get_iterative_bugs_selected);
    });
});
// @license-end
</script>
</div><div>
<span id="get_iterative_bugs_buttons">
<button class="submit btn btn-catsoop" id="get_iterative_bugs_submit" onclick="catsoop.submit('get_iterative_bugs');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="get_iterative_bugs_clearanswer" onclick="catsoop.clearanswer('get_iterative_bugs');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="get_iterative_bugs_loading_wrapper" role="status">
<span id="get_iterative_bugs_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="get_iterative_bugs_score_display" role="status"></span>
<div class="nsubmits_left" id="get_iterative_bugs_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="get_iterative_bugs_solution_container">
<div id="get_iterative_bugs_solution">
<p><b>Solution:</b></p>
<ul style="display:table; list-style: none; padding-left: 10px;"><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input checked="checked" disabled="disabled" type="checkbox"> It will run to completion and give us the correct answer.</span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> It will run to completion and give us an incorrect answer.</span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> It will change the value of <code>x</code> in the global frame such that subsequent calls will fail.</span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> It will enter an infinite loop.</span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> An exception will be raised.</span></li></ul>
</div>
<div id="get_iterative_bugs_solution_explanation"><hr><p><b>Explanation:</b></p>
<p>This code works exactly as expected in this case.  The
<code>for</code> loop in the body of the function causes us to work our way through the
linked list, following exactly 2 <code>next_node</code> pointers to arrive at the proper
node and then returning its value.</p>
<p>One might be concerned about the line <code>self = self.next_node</code> inside the loop.
But this will actually work as written!  Recall that <code>self</code> is just the name of
a local variable.  So at the start of this call, <code>self</code> is an alias for the list
that's called <code>x</code> in the global frame.  But after one time through the loop,
while <code>x</code> still points to the same spot, all we've done with <code>self =
self.next_node</code> is to rebind the name <code>self</code> (inside of our local frame) to
refer to a different <code>LinkedList</code> instance.</p>
<p>That said, this code could definitely be improved from a stylistic perspective.
One issue is that even though it works, the line <code>self = self.next_node</code> is
potentially confusing because <code>self</code> has such a strong conventional meaning.
It could be improved, perhaps, by introducing a new variable:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">self, index</span>):</span>
    current = self
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(index):
        current = current.next_node
    <span class="hljs-keyword">return</span> current.element
</code></pre></section>
<p>We may also be concerned about other things with this code.  Even though it
works for this example, there are some inputs for which its behavior is maybe
less desirable.  For example, what will happen if we give this method an index
that is too big?  It will raise an exception!  And while one could argue that
raising an exception is the right thing to do, the exception it gives will not
be particularly useful (it will be an <code>AttributeError</code> about <code>NoneType</code> not
having an attribute called <code>next_node</code>).  So we could maybe improve things even
further by raising a nicer exception in that case:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">self, index</span>):</span>
    current = self
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(index):
        current = current.next_node
        <span class="hljs-keyword">if</span> current <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            <span class="hljs-comment"># if we've hit None, we're out of nodes too early!</span>
            <span class="hljs-keyword">raise</span> IndexError(<span class="hljs-string">"index out of range!"</span>)
    <span class="hljs-keyword">return</span> current.element
</code></pre></section>
</div>
</div>
<div aria-atomic="true" id="get_iterative_bugs_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="></div>
</div>
</section>
<!--END question get_iterative_bugs -->
<p></p>
<p><a class="anchor" name="catsoop_section_4_1_2"></a><a class="anchor" name="_recursively"></a></p><h4 class="cs_section_title">4.1.2) Recursively<a class="cs_permalink" href="#_recursively">§</a></h4><p></p>
<p>It's also the case, though, that linked lists have a nice, natural recursive
structure that we can leverage.  The key signal here that recursion might be a
nice choice is that each linked list's <code>next_node</code> attribute is itself a linked
list!</p>
<p>We can take advantage of this to write a recursive version of the <code>get</code> method.
Try your hand at implementing this yourself before looking at our solution
below:</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div><section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">self, index</span>):</span>
    <span class="hljs-keyword">if</span> index == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> self.element
    <span class="hljs-keyword">if</span> self.next_node <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">raise</span> IndexError(<span class="hljs-string">'index out of range!'</span>)
    <span class="hljs-keyword">return</span> self.next_node.get(index - <span class="hljs-number">1</span>)
</code></pre></section></div></div>
<p><a class="anchor" name="catsoop_section_4_2"></a><a class="anchor" name="_setting_an_element"></a></p><h3 class="cs_section_title">4.2) Setting an Element<a class="cs_permalink" href="#_setting_an_element">§</a></h3><p></p>
<p>Next, let's move on to another common operation on lists: mutating the list
by changing a single element.  Here, we'll focus on a recursive implementation
(though you may wish to try to write this iteratively as well, for extra
practice!).</p>
<p>If we start by copy and pasting our recursive version of <code>get</code> from above, we
can change our code a little bit to implement <code>set</code>:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set</span>(<span class="hljs-params">self, index, value</span>):</span>
    <span class="hljs-keyword">if</span> index == <span class="hljs-number">0</span>:
        self.element = value  <span class="hljs-comment"># formerly: return self.element</span>
    <span class="hljs-keyword">if</span> self.next_node <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">raise</span> IndexError(<span class="hljs-string">'index out of range!'</span>)
    self.next_node.set(index - <span class="hljs-number">1</span>, value)  <span class="hljs-comment"># formerly: return self.next_node.get(index - 1)</span>
</code></pre></section>
<p>
<!--START question set_recursive_bugs --></p><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_set_recursive_bugs" style="position: static">
<div id="set_recursive_bugs_rendered_question">
<div id="catsoop_preamble_set_recursive_bugs"></div>
<div id="catsoop_prompt_set_recursive_bugs" style="display: inline;">Using the example linked list <code>x</code> from above, what will happen when we run <code>x.set(2, 'cat')</code>?  Think carefully about the code and select all that apply.<br></div><fieldset aria-labelledby="catsoop_prompt_set_recursive_bugs">
<div style="margin-bottom: 10px;"><input checked="checked" id="set_recursive_bugs_opt0" name="set_recursive_bugs_opt0" type="checkbox" value="0"><label for="set_recursive_bugs_opt0">It will successfully change <code>x</code> so that the element at index <code>2</code> is now <code>'cat'</code>.</label></div>
<div style="margin-bottom: 10px;"><input id="set_recursive_bugs_opt1" name="set_recursive_bugs_opt1" type="checkbox" value="1"><label for="set_recursive_bugs_opt1">It will enter an infinite loop (or infinite recursion).</label></div>
<div style="margin-bottom: 10px;"><input checked="checked" id="set_recursive_bugs_opt2" name="set_recursive_bugs_opt2" type="checkbox" value="2"><label for="set_recursive_bugs_opt2">Our code will raise an <code>IndexError</code>.</label></div>
<div style="margin-bottom: 10px;"><input id="set_recursive_bugs_opt3" name="set_recursive_bugs_opt3" type="checkbox" value="3"><label for="set_recursive_bugs_opt3">A different exception will be raised.</label></div>
</fieldset><input id="set_recursive_bugs" name="set_recursive_bugs" type="hidden" value="{&quot;set_recursive_bugs_opt2&quot;:true,&quot;set_recursive_bugs_opt0&quot;:true}">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
var set_recursive_bugs_selected = {'set_recursive_bugs_opt2': true,'set_recursive_bugs_opt0': true};
document.getElementById("set_recursive_bugs").value = JSON.stringify(set_recursive_bugs_selected);
document.querySelectorAll("input[type=checkbox][name^=set_recursive_bugs_opt]").forEach(function(r){
    r.addEventListener("click", function(){
        set_recursive_bugs_selected[this.getAttribute("name")] = this.checked;
    document.getElementById("set_recursive_bugs").value = JSON.stringify(set_recursive_bugs_selected);
    });
});
// @license-end
</script>
</div><div>
<span id="set_recursive_bugs_buttons">
<button class="submit btn btn-catsoop" id="set_recursive_bugs_submit" onclick="catsoop.submit('set_recursive_bugs');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="set_recursive_bugs_clearanswer" onclick="catsoop.clearanswer('set_recursive_bugs');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="set_recursive_bugs_loading_wrapper" role="status">
<span id="set_recursive_bugs_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="set_recursive_bugs_score_display" role="status"></span>
<div class="nsubmits_left" id="set_recursive_bugs_nsubmits_left" role="status">You have submitted this assignment 6 times.</div></div>
<div class="solution" id="set_recursive_bugs_solution_container">
<div id="set_recursive_bugs_solution">
<p><b>Solution:</b></p>
<ul style="display:table; list-style: none; padding-left: 10px;"><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input checked="checked" disabled="disabled" type="checkbox"> It will successfully change <code>x</code> so that the element at index <code>2</code> is now <code>'cat'</code>.</span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> It will enter an infinite loop (or infinite recursion).</span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input checked="checked" disabled="disabled" type="checkbox"> Our code will raise an <code>IndexError</code>.</span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> A different exception will be raised.</span></li></ul>
</div>
<div id="set_recursive_bugs_solution_explanation"><hr><p><b>Explanation:</b></p>
<p>Running the code, we see an exception!</p>
<p>But wait a moment.  We started with our code for <code>get</code> and only made a couple
of tiny changes, so why did <code>get</code> work OK without raising an exception, but
this code gives us an <code>IndexError</code>?</p>
<p>Importantly, we've got three conditions here, and they're mutually exclusive:
either we're at the right node (in which case we should mutate it to contain
the new value and then stop), or we're at the end of the linked list (in which
case we should raise an exception), or we're still making our way through the
linked list (in which case we should make a recursive call).</p>
<p>But let's look at what happens when we make a call corresponding to our base
case (where the given <code>index</code> is <code>0</code>).  In that case, we enter the first
conditional, so we change <code>self</code>'s <code>element</code> attribute to refer to the new
value.  But then Python continues on and checks the next condition!</p>
<p>So when we reach the node corresponding to index 2, we <em>do</em> mutate it properly!
But while we should stop at that point, we instead continue recursing on the
remaining nodes.</p>
<p>In the <code>get</code> method, each branch had a statement that stopped execution of the
function (either <code>return</code> or <code>raise</code>), and so we were safe from this bug.  But
here, we're not safe!  We could get rid of this issue by making explicit the
idea that exactly one of these branches should run:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set</span>(<span class="hljs-params">self, index, value</span>):</span>
    <span class="hljs-keyword">if</span> index == <span class="hljs-number">0</span>:
        self.element = value
    <span class="hljs-keyword">elif</span> self.next_node <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">raise</span> IndexError(<span class="hljs-string">'index out of range!'</span>)
    <span class="hljs-keyword">else</span>:
        self.next_node.set(index - <span class="hljs-number">1</span>, value)
</code></pre></section>
</div>
</div>
<div aria-atomic="true" id="set_recursive_bugs_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="></div>
</div>
</section>
<!--END question set_recursive_bugs -->
<p></p>
<p><a class="anchor" name="catsoop_section_4_3"></a><a class="anchor" name="_refactoring"></a></p><h3 class="cs_section_title">4.3) Refactoring<a class="cs_permalink" href="#_refactoring">§</a></h3><p></p>
<p>Hopefully at this point in the semester, some things about that last example
(<code>set</code>) raised some red flags not only in terms of correctness but also in
terms of style.  For one, we said the words "copy and pasting" <img alt="triangular_flag emoji" class="emoji" draggable="false" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNiAzNiI+PHBhdGggZmlsbD0iIzY2NzU3RiIgZD0iTTEzIDM0czAgMi0yIDItMi0yLTItMlYyczAtMiAyLTIgMiAyIDIgMnYzMnoiLz48cGF0aCBmaWxsPSIjREQyRTQ0IiBkPSJNMTEgNGMwLTIuMiAxLjYzNi0zLjI1IDMuNjM2LTIuMzMzbDE2LjcyNyA3LjY2N2MyIC45MTcgMiAyLjQxNyAwIDMuMzMzbC0xNi43MjcgNy42NjdDMTIuNjM2IDIxLjI1IDExIDIwLjIgMTEgMThWNHoiLz48L3N2Zz4=" title="triangular_flag">.
But even if we hadn't written that code with copy/paste, we still ended up with
code that was very similar between the two functions.  There's a definite
possibility for refactoring here to avoid some of that repetitious code.</p>
<div class="question"><b>Check Yourself:</b><p></p><p>What functionality is similar between the <code>get</code> and <code>set</code> methods?  What is
different?  How can we rearrange things to avoid repeating those pieces that
are shared between the two functions?</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div><p>There is a lot of similarity here.  In particular, the code for working our
way recursively through a linked list to find the node at a given index
(including raising an exception at the appropriate time) is repeated almost
exactly in both functions!</p>
<p>What's different, of course, is what we do when we reach the right node.  In
the case of <code>get</code>, we want to return that node's <code>element</code> attribute; and in
the case of <code>set</code>, we want to modify that node's <code>element</code> attribute.</p>
<p>So we could write a helper that returns the <em>node</em> (not the element) at a
given index, and then both <code>get</code> and <code>set</code> could be implemented in terms
of that helper.</p>
<p>Try your hand at writing this code before looking at our solution below:</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div><p>Here is one possible implementation:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_get_node</span>(<span class="hljs-params">self, index</span>):</span>
    <span class="hljs-keyword">if</span> index == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> self
    <span class="hljs-keyword">elif</span> self.next_node <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">raise</span> IndexError(<span class="hljs-string">'index out of range!'</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> self.next_node._get_node(index - <span class="hljs-number">1</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">self, index</span>):</span>
    <span class="hljs-keyword">return</span> self._get_node(index).element

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set</span>(<span class="hljs-params">self, index, value</span>):</span>
    self._get_node(index).element = value
</code></pre></section>
</div></div>
</div></div>
<p></p><p><span id="queue_checkyourself_4"></span></p></div>
<p><a class="anchor" name="catsoop_section_4_4"></a><a class="anchor" name="_leveraging_dunder_methods"></a></p><h3 class="cs_section_title">4.4) Leveraging Dunder Methods<a class="cs_permalink" href="#_leveraging_dunder_methods">§</a></h3><p></p>
<p>At this point, we've got some pieces working.  We've got a linked-list
representation that we can use to create new linked lists, mutate existing
linked lists, and get elements out of linked lists.  But in order to do so,
we need to explicitly invoke the <code>get</code> and <code>set</code> methods, for example:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-built_in">print</span>(x.get(<span class="hljs-number">3</span>))
x.set(<span class="hljs-number">3</span>, <span class="hljs-string">'cat'</span>)
<span class="hljs-built_in">print</span>(x.get(<span class="hljs-number">3</span>))
</code></pre></section>
<p>It would be nicer if we could use the syntax we're more familiar with (from
working with other collections) for getting and setting elements:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-built_in">print</span>(x[<span class="hljs-number">3</span>])
x[<span class="hljs-number">3</span>] = <span class="hljs-string">'cat'</span>
<span class="hljs-built_in">print</span>(x[<span class="hljs-number">3</span>])
</code></pre></section>
<p>This is where those "dunder" methods come in!  And it only takes a tiny change
to make this work.  In particular, if we change the <em>names</em> of these methods
to <code>__getitem__</code> and <code>__setitem__</code>, respectively, then the example above will
work without any other changes.</p>
<p>This change results in methods that can still be called like normal (we could,
for example, still explicitly call <code>x.__getitem__(3)</code>).  But Python will also
implicitly invoke those methods in other situations.  Python will, for example,
translate <code>x[3]</code> to <code>x.__getitem__(3)</code>; and <code>x[3] = 'cat'</code> to <code>x.__setitem__(3,
'cat')</code>.</p>
<p><a class="anchor" name="catsoop_section_4_5"></a><a class="anchor" name="_displaying_a_linked_list"></a></p><h3 class="cs_section_title">4.5) Displaying a Linked List<a class="cs_permalink" href="#_displaying_a_linked_list">§</a></h3><p></p>
<p>As we've seen over the course of the semester, one of the most useful tools we
have for debugging is the <code>print</code> statement.  But as it stands now, if we <code>print</code>
an instance of our <code>LinkedList</code> class, we see something that is not particularly
useful:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted">&lt;__main__.LinkedList object at SOME_MEMORY_LOCATION&gt;
</code></pre></section>
<p>This is Python's best attempt at displaying a <code>LinkedList</code> object for us, but
it's really hard to make use of that when debugging.  Luckily, though, Python
lets us control this behavior through the use of another dunder method, <code>__str__</code>.
Whenever we <code>print</code> an instance of a class we've made, if a <code>__str__</code> method
is present, Python will call that method and print the result.</p>
<p>So in this case, we could make debugging easier for ourselves by defining <code>__str__</code>.</p>
<p>For example, if we define <code>__str__</code> as follows, we get a much nicer representation:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span>(<span class="hljs-params">self</span>):</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"LinkedList(<span class="hljs-subst">{self.element}</span>, <span class="hljs-subst">{self.next_node}</span>)"</span>
</code></pre></section>
<div class="question"><b>Check Yourself:</b><p>Add this code to your <code>LinkedList</code> class and try printing out <code>x</code> and/or some other linked lists of your own devising.</p><p><span id="queue_checkyourself_5"></span></p></div>
<p>We generally recommend implementing <code>__str__</code> early on whenever you're making a
new class, since it makes debugging so much more approachable!</p>
<p><a class="anchor" name="catsoop_section_4_6"></a><a class="anchor" name="_getting_the_length_of_a_linked_list"></a></p><h3 class="cs_section_title">4.6) Getting the Length of a Linked List<a class="cs_permalink" href="#_getting_the_length_of_a_linked_list">§</a></h3><p></p>
<p>Now let's get <code>len()</code> working for our linked lists, just like it does for built-in Python lists, tuples, and strings.
We need to implement the <code>__len__</code> dunder method:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__len__</span>(<span class="hljs-params">self</span>):</span>
    <span class="hljs-keyword">if</span> self.next_node == <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + len(self.next_node)
</code></pre></section>
<p>And now we can get the length of a list:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted">y = LinkedList(<span class="hljs-number">42</span>, LinkedList(<span class="hljs-number">16</span>, LinkedList(<span class="hljs-number">12</span>)))
<span class="hljs-built_in">print</span>(len(y))
</code></pre></section>
<p>This code will print <code>3</code>.</p>
<p>
<!--START question empty_linked_list --></p><section aria-label="Question">
<div class="question question-multiplechoice" id="cs_qdiv_empty_linked_list" style="position: static">
<div id="empty_linked_list_rendered_question">
<div id="catsoop_preamble_empty_linked_list"></div>
<div id="catsoop_prompt_empty_linked_list" style="display: inline;">Which of the following create a <code>LinkedList</code> object that represents the <em>empty list</em> — a list with no elements at all, for which <code>len()</code> returns 0?
Check all that apply.<br></div><fieldset aria-labelledby="catsoop_prompt_empty_linked_list">
<div style="margin-bottom: 10px;"><input id="empty_linked_list_opt0" name="empty_linked_list_opt0" type="checkbox" value="0"><label for="empty_linked_list_opt0"><code>LinkedList()</code></label></div>
<div style="margin-bottom: 10px;"><input id="empty_linked_list_opt1" name="empty_linked_list_opt1" type="checkbox" value="1"><label for="empty_linked_list_opt1"><code>LinkedList([])</code></label></div>
<div style="margin-bottom: 10px;"><input id="empty_linked_list_opt2" name="empty_linked_list_opt2" type="checkbox" value="2"><label for="empty_linked_list_opt2"><code>LinkedList(None)</code></label></div>
<div style="margin-bottom: 10px;"><input id="empty_linked_list_opt3" name="empty_linked_list_opt3" type="checkbox" value="3"><label for="empty_linked_list_opt3"><code>None</code></label></div>
<div style="margin-bottom: 10px;"><input checked="checked" id="empty_linked_list_opt4" name="empty_linked_list_opt4" type="checkbox" value="4"><label for="empty_linked_list_opt4">none of the above, because a <code>LinkedList</code> object cannot represent the empty list</label></div>
</fieldset><input id="empty_linked_list" name="empty_linked_list" type="hidden" value="{&quot;empty_linked_list_opt4&quot;:true}">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
var empty_linked_list_selected = {'empty_linked_list_opt4': true};
document.getElementById("empty_linked_list").value = JSON.stringify(empty_linked_list_selected);
document.querySelectorAll("input[type=checkbox][name^=empty_linked_list_opt]").forEach(function(r){
    r.addEventListener("click", function(){
        empty_linked_list_selected[this.getAttribute("name")] = this.checked;
    document.getElementById("empty_linked_list").value = JSON.stringify(empty_linked_list_selected);
    });
});
// @license-end
</script>
</div><div>
<span id="empty_linked_list_buttons">
<button class="submit btn btn-catsoop" id="empty_linked_list_submit" onclick="catsoop.submit('empty_linked_list');" style="margin-top: 10px;">Submit</button>
<button class="clearanswer btn btn-catsoop" id="empty_linked_list_clearanswer" onclick="catsoop.clearanswer('empty_linked_list');" style="margin-top: 10px;">Clear Answer</button></span>
<span id="empty_linked_list_loading_wrapper" role="status">
<span id="empty_linked_list_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="empty_linked_list_score_display" role="status"></span>
<div class="nsubmits_left" id="empty_linked_list_nsubmits_left" role="status">You have submitted this assignment 1 time.</div></div>
<div class="solution" id="empty_linked_list_solution_container">
<div id="empty_linked_list_solution">
<p><b>Solution:</b></p>
<ul style="display:table; list-style: none; padding-left: 10px;"><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>LinkedList()</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>LinkedList([])</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>LinkedList(None)</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input disabled="disabled" type="checkbox"> <code>None</code></span></li><li style="display: table-row;"><span style="display:table-cell; padding-bottom:20px;"><input checked="checked" disabled="disabled" type="checkbox"> none of the above, because a <code>LinkedList</code> object cannot represent the empty list</span></li></ul>
</div>
<div id="empty_linked_list_solution_explanation"><hr><p><b>Explanation:</b></p>
<p><code>LinkedList()</code> will not work, because its <code>__init__</code> method requires an <code>element</code> argument.</p>
<p>The second and third choices will indeed create <code>LinkedList</code> objects, but each of those lists will have one element in the list -- either <code>[]</code> or <code>None</code>, respectively.
Calling <code>len()</code> on the resulting linked list will return 1, because there is indeed one element in the list.</p>
<p>The fourth choice, <code>None</code> by itself, is indeed how we have been representing "no more elements." But <code>None</code> is not a <code>LinkedList</code> object itself, and if you try <code>len(None)</code>, you will get a type error instead of 0.</p>
<p>It turns out that no <code>LinkedList</code> object can represent the empty list! This is a design flaw in our <code>LinkedList</code>
 class, because we'd really like to be able to use an empty list the 
same way we use non-empty lists, including being able to ask for its 
length.  One way to fix it is to use a <a href="https://en.wikipedia.org/wiki/Sentinel_node">sentinel object</a> instead of <code>None</code> to terminate lists.  The sentinel object would be special instance of <code>LinkedList</code> that has no element in it and acts like the empty list -- its <code>__len__</code> dunder method would return 0.</p>
</div>
</div>
<div aria-atomic="true" id="empty_linked_list_message" role="status"><img alt="Correct" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAABQVBMVEUAAAAGDQAAAAAAAAAAAAAAAAAAAACGqlBIfBNciiZGeg9Eeg5Feg5Gew9CdgpCdgxDehJvmDN1nj9plTVWhRtOgRlMfxZjkS5Geg9EeA5Geg5HfBBHew5GeQ5Cdg1CeAxDegtHgACVtmV+pURPgBp4oEBEeQx+o0p8oklFeg5YiCJIfRFEdQ5GehBHeg9CdwtEdQxEeg5Fdw5DeQ1Eegs2YQlCdwpCeAxDeQ0PHgBGdA9AdgkAAAAAAAARIgChwGKPs0qjwXKStUyFqD6CqDfJ3p+91Ji00XqlwmypyGihwGiauluWtlicwFKXulGTuEmMr0WOs0OKr0CGrDuEqjrR46zC2Ji+1ZC804640oK1z4CxzHywynqsx3enw3WYuWidvF+fwlqgxFePsFWSs1KIrE2Wu0uOr0qGqkeCpj50nDHRgoCJAAAAP3RSTlMABA0HEgoQ/ff17+jbxi8nDvz39vb29fTy7dPQoJeLVRUJ/f39+vn49/f118jAvrKWcW9jWllJQjkiIRwZFg8RajNxAAAA+klEQVQY06XQ1bLCMBAGYNJCHXfnuLtrFXc5gru+/wMQhhZouWRvMvNt/kx2dbvUC+V/3tY9OhZzX5i0HDqNxn/aRo2aXb/JXtR+p2HjfjUb5xmg1kfyL9v9d76q1UK1kqPaSWAFy1TQVs+zvCci4wd9fA8PE9HM5Rvkg5JlcJ68iuh8OFtkcb/ywrUtlUscUTfniaKQIlaj0AdsoZTuH2aEUsceXM/AuNNcmcsIZW7otWwsIuCacBVJqgycYdWPwx7rWJQKVu0y3n0OUZyemVUIAPp9S8wcIQRBDCgAsqIGBNM/eS/fPr/02KKx5IXDBixsfV2OwCYERebVjyGAvqhE3QAAAABJRU5ErkJggg=="></div>
</div>
</section>
<!--END question empty_linked_list -->
<p></p>
<p><a class="anchor" name="catsoop_section_4_7"></a><a class="anchor" name="_looping_over_a_linked_list"></a></p><h3 class="cs_section_title">4.7) Looping Over a Linked List<a class="cs_permalink" href="#_looping_over_a_linked_list">§</a></h3><p></p>
<p>As our last example for this reading, let's add one last operation to our
linked-list class.</p>
<p>Another common operation we might want to perform on an ordered collection of
elements involves looping over it.  For example, it would be great if we could
say:</p>
<section aria-label="Code block"><pre><code class="language-python hljs highlighted"><span class="hljs-keyword">for</span> elt <span class="hljs-keyword">in</span> x:
    <span class="hljs-built_in">print</span>(elt)
</code></pre></section>
<p>Conveniently, Python has a dunder method for that purpose, too!  The above
code is equivalent to:</p>
<section aria-label="Code block"><pre><code class="language-python hljs highlighted"><span class="hljs-keyword">for</span> elt <span class="hljs-keyword">in</span> x.__iter__():
    <span class="hljs-built_in">print</span>(elt)
</code></pre></section>
<p>So if we define a new method <code>__iter__</code> (which should be a generator that
yields elements from the linked list, in order), then we'll be able to use
the <code>for i in x</code> syntax without explicitly calling <code>x.__iter__()</code>.</p>
<p>Try your hand at adding the <code>__iter__</code> method (a generator) to your
<code>LinkedList</code> class before looking at our implementation(s) below.  (You may also
want to take this moment to refresh your knowledge about <a href="https://py.mit.edu/spring25/readings/recursion2#_generators">generators</a> from an earlier reading.)</p>
<div class="response"><button aria-pressed="false" class="btn btn-catsoop showhide-toggle" onclick='this.setAttribute("aria-pressed", this.getAttribute("aria-pressed") === "true" ? "false" : "true");' role="button">Show/Hide</button><div><p>There are a number of ways to implement <code>__iter__</code>.  Here, we show one
iterative and one recursive solution.</p>
<p>The iterative version is similar to the iterative version of <code>get</code> that we
wrote early on.  It uses a loop to work its way through the linked list,
yielding each element until we've gone through the whole list:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__iter__</span>(<span class="hljs-params">self</span>):</span>
    current = self
    <span class="hljs-keyword">while</span> current <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">yield</span> current.element
        current = current.next_node
</code></pre></section>
<p>The recursive version is a little bit different, but it follows the familiar
"first/rest" recursive formulation we've seen in the past, where each call
yields one element, and then the remaining elements (if any) are yielded from
recursive calls:</p>
<section aria-label="Code block"><pre><code class="language-py hljs python highlighted"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__iter__</span>(<span class="hljs-params">self</span>):</span>
    <span class="hljs-keyword">yield</span> self.element
    <span class="hljs-keyword">if</span> self.next_node <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">yield</span> <span class="hljs-keyword">from</span> self.next_node  <span class="hljs-comment"># same as: yield from self.next_node.__iter__()</span>
</code></pre></section>
</div></div>
<p><a class="anchor" name="catsoop_section_4_8"></a><a class="anchor" name="_other_operations"></a></p><h3 class="cs_section_title">4.8) Other Operations<a class="cs_permalink" href="#_other_operations">§</a></h3><p></p>
<p>What we've got so far is definitely a good start, but there are many more operations
that we could implement.  If you're looking for extra practice, you could consider
implementing one or more of the following:</p>
<ul>
<li>A method for deleting a node from a linked list by way of mutation</li>
<li>A method for appending an element to a linked list by way of mutation</li>
<li>A method for concatenating two linked lists together (without any aliasing)</li>
<li>A method for inserting an element at an arbitrary location in the 
linked list by way of mutation (for an extra challenge, make sure it can
 work to insert a new element at the very start of the linked list, 
too!)</li>
</ul>
<p>And there are certainly more you could work on, too!  If you do try any of
these and you need some help (or you want us to take a look once you're done),
feel free to ask on the mailing list or at open lab hours or office hours.</p>
<p><a class="anchor" name="catsoop_section_5"></a><a class="anchor" name="_summary"></a></p><h2 class="cs_section_title">5) Summary<a class="cs_permalink" href="#_summary">§</a></h2><p></p>
<p>As usual, we've covered a fair amount of territory in this reading.  We started
by introducing the rules by which classes and instances operate in terms of our
environment model by building up from minimal examples to something that
demonstrated a fair number of features of classes, often leaning on our prior
experience with name resolution and with functions.</p>
<p>We also took close looks at a couple of pieces that are unique to
classes, in particular the fact that Python will, in certain situations,
implicitly pass an argument to a method (and we talked about the conventional
name for it, <code>self</code>).</p>
<p>We then introduced "dunder" methods (also called "magic" methods), which allow
us to use nicer, more "Pythonic" syntax for invoking certain methods (for example,
allowing the normal syntax for subscripting or addition to work with instances
of our custom types).</p>
<p>Finally, we saw an example that put a number of these pieces together, where we
got started on an implementation of a class to represent linked lists; this
provided an opportunity to think about linked data structures but also to see
some of the ways that we can make use of classes.</p>
<p>In this week's lab, you'll get some experience with a different kind of linked
data structure called a prefix tree, which we'll also use as an opportunity to
get more practice with the material from this reading.  In next week's reading,
we'll expand on these ideas by introducing inheritance (which allows for
sharing of structure between multiple classes), and we'll also talk more about
<em>object-oriented design</em>, i.e., how we can use some of these ideas to help us
manage the complexity of our code.
<script type="text/javascript">
        if (MathJax) {
            // Disable the MathJax right-click menu,
            // so that screenreader doesn't say "clickable" on every math element
            // Based on https://docs.mathjax.org/en/latest/web/configuration.html#configuring-mathjax-after-it-is-loaded
            MathJax.config.options = MathJax.config.options ?? {};
            MathJax.config.options.enableMenu = false;
            MathJax.startup.getComponents();
        }


        // give the hamburger menu icon an accessible label
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector("a.icon")?.setAttribute('aria-label', 'site-menu');
        });
        
        // based on catsoop.modal
        catsoop.vprof_survey = function (header, text, vprof_link, link_timestamp) {
          return new Promise(function (resolve, reject) {
            var response = {
            "response": null,
            "vprof_link": vprof_link,
            "link_timestamp": link_timestamp,
            "response_timestamp": null,
            "make_modal_timestamp": Date.now(),
            };
            var content = document.createElement("dialog");
            content.classList = ["catsoop-modal-content"];
            content.setAttribute("aria-labelledby", "catsoop-dialog-header");
            content.setAttribute("aria-describedby", "catsoop-dialog-body");
            content.addEventListener("keydown", function (e) {
              // this piece traps focus in the dialog while it is open
              // based on https://hidde.blog/using-javascript-to-trap-focus-in-an-element/
              if (!content.open) {
                return;
              }
              if (e.key === "Tab" || e.keyCode === 9) {
                if (e.shiftKey) {
                  if (document.activeElement === content.focusable[0]) {
                    content.focusable[content.focusable.length - 1].focus();
                    e.preventDefault();
                  }
                } else if (
                  document.activeElement ===
                  content.focusable[content.focusable.length - 1]
                ) {
                  content.focusable[0].focus();
                  e.preventDefault();
                }
              }
            });
            content.focusable = [];

            var mbody = document.createElement("div");
            mbody.classList = ["catsoop-modal-body"];

            var close_button = document.createElement("button");
            close_button.classList = ["catsoop-modal-close"];
            close_button.innerHTML = "&times;";
            close_button.setAttribute("aria-label", "Close");
            close_button.onclick = function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "cancel", "response_timestamp": Date.now()})));
            };
            content.focusable.push(close_button);
            mbody.append(close_button);

            var title = document.createElement("span");
            title.id = "catsoop-dialog-header";
            title.classList = ["catsoop-modal-header"];
            title.appendChild(document.createTextNode(header));
            title.setAttribute("role", "heading");
            mbody.appendChild(title);

            var body = document.createElement("p");
            body.id = "catsoop-dialog-body";
            body.innerHTML = text + "<br/>";
            mbody.appendChild(body);

            var buttons = document.createElement("span");
            var yes_button = document.createElement("button");
            yes_button.innerText = "Yes";
            yes_button.classList = ["btn btn-catsoop"];
            yes_button.addEventListener("click", function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "yes", "response_timestamp": Date.now()})));
            });
            yes_button.setAttribute("autofocus", true);
            content.focusable.push(yes_button);


            var no_button = document.createElement("button");
            no_button.innerText = "No";
            no_button.classList = ["btn btn-catsoop"];
            no_button.addEventListener("click", function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "no", "response_timestamp": Date.now()})));
            });
            content.focusable.push(no_button);

            buttons.appendChild(yes_button);
            buttons.appendChild(document.createTextNode(" "));
            buttons.appendChild(no_button);
            mbody.appendChild(buttons);

            content.addEventListener("close", function () {
              content.remove();
              last_clicked_vprof_report[0] = null;
              last_clicked_vprof_report[1] = null;
              showing_vprof_survey[0] = false;
              (content.returnValue === "" ? reject : resolve)(content.returnValue);
            });

            content.appendChild(mbody);
            document.body.appendChild(content);
            content.showModal();
          });
        };


        function postVprofSurveyResponse(value){
            var data = JSON.parse(value);
            var encoded_form_pairs = [];
            for (var name in data){
                encoded_form_pairs.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));
            }
            //console.log("data", data)
            var form = encoded_form_pairs.join('&').replace(/%20/g, '+');
            //console.log("form data", form);

            var request = new XMLHttpRequest();
            request.onload = function(){
                var msg = request.response;
                var data = JSON.parse(msg);
                //if(data.ok){
                //    console.log("post success")
                //}else{
                //    concole.log("post error", msg, JSON.stringify(data))
                //}
            }

            request.open('POST', "https://py.mit.edu/spring25/staffonly/analytics/vprof_survey_collector", true);
            request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            request.send(form);

        }

        var showing_vprof_survey = [false];
        var last_clicked_vprof_report = [null, null];

        document.addEventListener('visibilitychange', e=>{
          if (document.visibilityState === 'visible' &&
              last_clicked_vprof_report[0] !== null &&
              !showing_vprof_survey[0]) {
              // show vorif yes/no survey
              catsoop.vprof_survey("vprof survey",
                "Did <a href='" + last_clicked_vprof_report[0] + "' target='_blank'> this vprof report</a> help you find and/or fix an efficiency bug?",
                last_clicked_vprof_report[0], last_clicked_vprof_report[1]).then(postVprofSurveyResponse, postVprofSurveyResponse);
              showing_vprof_survey[0] = true;
            }
        })

        var vprof_links  = document.getElementsByClassName("vprof_link");
        for (var i=0; i < vprof_links.length; i++) {
            let my_link = vprof_links[i].href
            if ((typeof my_link === 'string' || my_link instanceof String) && !my_link.includes("#")) {
                vprof_links[i].href = my_link + '#78111110101-50b7ffceb795e65fe8dba48b66ad8351b38526a56061272e905a62a2839c2975';
            }
            vprof_links[i].onclick = function(){
              last_clicked_vprof_report[0] = this.href;
              last_clicked_vprof_report[1] = Date.now();
            }
        }


    </script>
<script type="text/javascript">
catsoop.callbacks['submit'] = function(ok, names, status, response){
    response = JSON.parse(response);
    if (response[names[0]].score == 1){
        document.getElementById(names[0] + '_viewanswer').click();
    }
}
</script></p>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['vector_3_example', 'q000000', 'how_call_magnitude', 'calling_error', 'll_count_nodes', 'example_linkedlist', 'get_iterative_bugs', 'set_recursive_bugs', 'empty_linked_list'];
catsoop.username = 'tjampa';
catsoop.this_path = 'https://py.mit.edu/spring25/readings/classes';
catsoop.path_info = ['spring25', 'readings', 'classes'];
catsoop.course = 'spring25';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = ["vector_3_example", "q000000", "how_call_magnitude", "calling_error", "ll_count_nodes", "example_linkedlist", "get_iterative_bugs", "set_recursive_bugs", "empty_linked_list"];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
<div id="cs_footnotes" style="display:none;"></div>
</div>
</div>
<div class="cs_right_menu"></div>
</div>
<footer>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><li><a href="https://py.mit.edu/spring25">Home</a></li><li><a href="https://py.mit.edu/spring25/readings">Course Readings</a></li><li><a href="https://py.mit.edu/spring25/readings/classes">Custom Types and the Environment Model</a></li></nav>
<div class="cs_footer">
      This page was last updated on Wednesday April 09, 2025 at 11:45:30 AM (revision <code>88256453</code>).<br>&nbsp;<br>
<center><img src="Custom%20Types%20and%20the%20Environment%20Model%20_%20Course%20Readings%20_%206.101%20Spring%202025_files/cc-by-sa.svg" style="width: 2cm;"></center><div style="max-width: 600px; margin-bottom:1em; margin-left:auto; margin-right:auto;">Except where otherwise noted, these readings are licensed under a<br><a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" target="_blank">Creative Commons&nbsp;BY-SA&nbsp;4.0</a> license.  Portions of the readings were derived from<br>or inspired by the <a href="https://web.mit.edu/6.031/www/sp25/" target="_blank">6.031 Course Notes</a>, the <a href="https://hz.mit.edu/catsoop/6.145" target="_blank">6.145 Course Notes</a>, and the 6.01 Course Notes.
</div>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.org/" target="_blank">CAT-SOOP</a> v19.0.6+hg.14.f36ce1d1 "Korat" (LTS) (development snapshot).<br>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>



</body></html>